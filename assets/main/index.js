System.register("chunks:///_virtual/Box1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FdAd.ts","./FdMgr.ts"],(function(e){var n,r,o,t,i,s,a,u,c,h,l,p,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Node,u=e.ProgressBar,c=e.Animation,h=e.Component},function(e){l=e.default},function(e){p=e.BoxType,d=e.default}],execute:function(){var B,g,f,b,w,v,y;i._RF.push({},"5dd85BwwKNKEKdDh1NhJ7kU","Box1",void 0);var x=s.ccclass,V=s.property;e("Box1",(B=x("Box1"),g=V(a),f=V(u),B((v=n((w=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,o(n,"box",v,t(n)),o(n,"pBar",y,t(n)),n.hadShowBanner=!1,n.onShowCB=null,n.ccb=null,n.progressValue=0,n.clickCount=0,n.type=p.Box_Banner,n}r(n,e);var i=n.prototype;return i.onDisable=function(){this.unscheduleAllCallbacks(),l.hideBannerAd(),d.visibleVideoBanner(!1,!1),this.ccb&&this.ccb()},i.showUI=function(e,n){var r=this;void 0===n&&(n=p.Box_Banner),this.type=n,this.node.active=!0,this.pBar.progress=0,this.progressValue=0,this.clickCount=0,this.hadShowBanner=!1,this.ccb=e,this.onShowCB=function(){r.node.active=!1},l.hideBannerAd()},i.clickBtnCB=function(){var e=this;this.progressValue+=d.wuchuProgressStepAdd,this.box.getComponent(c).play(),this.progressValue>=d.wuchuProgressValue&&!this.hadShowBanner&&(this.hadShowBanner=!0,this.clickCount++,this.type==p.Box_Banner?l.showBannerAd():d.visibleVideoBanner(!0,!1),d.randTouchProgress(),this.scheduleOnce((function(){e.clickCount>=d.jsonConfig.bannerBox_count?e.node.active=!1:(e.type==p.Box_Banner?l.hideBannerAd():d.visibleVideoBanner(!1,!1),e.hadShowBanner=!1,e.pBar.progress=0,e.progressValue=0)}),1))},i.update=function(e){this.progressValue>d.wuchuProgressFrameSub&&(this.progressValue-=d.wuchuProgressFrameSub),this.pBar.progress=this.progressValue},n}(h)).prototype,"box",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(w.prototype,"pBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/BundleMgr.ts",["cc"],(function(e){var n,t,u;return{setters:[function(e){n=e.cclegacy,t=e.assetManager,u=e.SpriteFrame}],execute:function(){n._RF.push({},"51b17x/oSpMrZDWdBEePbXv","BundleMgr",void 0),e("default",function(){function e(){}return e.loadResBundle=function(e,n){var u=this;t.loadBundle(e,(function(e,t){u.ResBundle=t,n&&n()}))},e.setSpriteFrameInBundle=function(e,n){this.ResBundle.load(e+"/spriteFrame",u,(function(e,t){n.spriteFrame=t}))},e}()).ResBundle=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DropProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformApi.ts","./PlayerDataMgr.ts","./SoundMgr.ts","./Utility.ts","./GameLogic.ts","./Player.ts"],(function(t){var n,o,a,e,r,i,s,c,h,u,l,y,g,p;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,a=t._decorator,e=t.Label,r=t.tween,i=t.v3,s=t.UIOpacity,c=t.Component},function(t){h=t.default},function(t){u=t.default},function(t){l=t.SoundMgr},function(t){y=t.default},function(t){g=t.GameLogic},function(t){p=t.Player}],execute:function(){var d;o._RF.push({},"3444eYbZNlKGK6DdUgEFJ3y","DropProp",void 0);var f=a.ccclass;a.property,t("DropProp",f("DropProp")(d=function(t){function o(){for(var n,o=arguments.length,a=new Array(o),e=0;e<o;e++)a[e]=arguments[e];return(n=t.call.apply(t,[this].concat(a))||this).type=null,n.isGot=!1,n.isReady=!1,n.count=0,n}n(o,t);var a=o.prototype;return a.start=function(){},a.initData=function(t,n){void 0===n&&(n=!1),this.type=t;var o=2*y.GetRandom(1,5*g.Share.curGrade);0==t||1==t?(this.node.getChildByName("upDownNode").getChildByName("zd_tips_dk").getComponentInChildren(e).string=":"+o,o*=n?2:1):(2==t||3==t||4==t||5==t)&&(o=1),this.count=o},a.checkGot=function(){var t=this;if(!this.isGot&&this.isReady&&Math.abs(this.node.position.x-p.Share.myPos.x)<=150){h.doVibrate(),l.Share.PlaySound("getProp"),this.isGot=!0;var n=this.type;0==n?(u.getPlayerData().material+=this.count,g.Share.gotMaterialsCount+=this.count):1==n?(u.getPlayerData().soul+=this.count,g.Share.gotSoulCount+=this.count):2==n?(u.getPlayerData().enchantArr[0]+=this.count,g.Share.gotEnchant1Count+=this.count):3==n?(u.getPlayerData().enchantArr[1]+=this.count,g.Share.gotEnchant2Count+=this.count):4==n?(u.getPlayerData().enchantArr[2]+=this.count,g.Share.gotEnchant3Count+=this.count):5==n&&(u.getPlayerData().enchantArr[3]+=this.count,g.Share.gotEnchant4Count+=this.count),u.setPlayerData(),0==n||1==n?(r(this.node).by(1,{position:i(0,100)}).call((function(){t.node.destroy()})).start(),r(this.node.getComponent(s)).to(1,{opacity:0}).start()):r(this.node).by(1,{position:i(0,150)}).delay(1).call((function(){r(t.node.getComponent(s)).to(1,{opacity:0}).start()})).start()}},a.gotCB=function(){if(this.isGot)this.node.destroy();else{this.isGot=!0;var t=this.type;0==t?(u.getPlayerData().material+=this.count,g.Share.gotMaterialsCount+=this.count):1==t?(u.getPlayerData().soul+=this.count,g.Share.gotSoulCount+=this.count):2==t?(u.getPlayerData().enchantArr[0]+=this.count,g.Share.gotEnchant1Count+=this.count):3==t?(u.getPlayerData().enchantArr[1]+=this.count,g.Share.gotEnchant2Count+=this.count):4==t?(u.getPlayerData().enchantArr[2]+=this.count,g.Share.gotEnchant3Count+=this.count):5==t&&(u.getPlayerData().enchantArr[3]+=this.count,g.Share.gotEnchant4Count+=this.count),u.setPlayerData(),this.node.destroy()}},a.update=function(t){this.checkGot()},o}(c))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/EffectNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts"],(function(t){var e,n,i,r,o,c,a,f,l,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Prefab,f=t.instantiate,l=t.Animation,s=t.Component},function(t){u=t.default}],execute:function(){var d,p,h,y,E,b,v,S,g,m;o._RF.push({},"2c030US5s5HGZATSZ46aMHf","EffectNode",void 0);var C=c.ccclass,w=c.property;t("EffectNode",(d=C("EffectNode"),p=w(a),h=w(a),y=w(a),d(((m=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,i(e,"SwordEffect",v,r(e)),i(e,"MonsterHurtEffect",S,r(e)),i(e,"CriticalFX",g,r(e)),e}n(e,t);var o=e.prototype;return o.onLoad=function(){e.Share=this},o.start=function(){},o.createSwordEffect=function(t){for(var e=this,n=function(){var n=f(e.SwordEffect);e.node.addChild(n),n.angle=360*Math.random(),n.position=t,n.setSiblingIndex(999),e.scheduleOnce((function(){n&&n.isValid&&n.destroy()}),1)},i=0;i<u.GetRandom(1,2);i++)n()},o.createMonsterHurtEffect=function(t,e){var n=f(this.MonsterHurtEffect[t]);this.node.addChild(n),n.position=e,n.getComponent(l).on(l.EventType.FINISHED,(function(){n.destroy()}),this)},o.createCriticalEffect=function(t){var e=f(this.CriticalFX);this.node.addChild(e),e.position=t,e.setSiblingIndex(999),this.scheduleOnce((function(){e&&e.isValid&&e.destroy()}),.5)},e}(s)).Share=null,v=e((b=m).prototype,"SwordEffect",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(b.prototype,"MonsterHurtEffect",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=e(b.prototype,"CriticalFX",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=b))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/Entity.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"d63fb+oBe9JJITh/w9Mm/0g","Entity",void 0);e("UIType",function(e){return e.UI_START="StartUI",e.UI_SHOP="ShopUI",e.UI_GAME="GameUI",e.UI_FINISH="FinishUI",e.UI_WEAPON="WeaponUI",e.UI_WEAPONUP="WeaponUpUI",e.UI_WEAPONENCHANT="WeaponEnchantUI",e.UI_PLAYERUP="PlayerUpUI",e.UI_SETTING="SettingUI",e.UI_GOTOSHOP="GoToShopUI",e.UI_ONLINE="OnlineUI",e}({})),e("MonsterAniType",function(e){return e.Type_Idle="Idle",e.Type_Run="Run",e.Type_Attack="Attack",e.Type_Hurt="Hurt",e.Type_Died="Died",e}({})),e("DropPropType",function(e){return e[e.Type_Material=0]="Type_Material",e[e.Type_Soul=1]="Type_Soul",e[e.Type_Enchant1=2]="Type_Enchant1",e[e.Type_Enchant2=3]="Type_Enchant2",e[e.Type_Enchant3=4]="Type_Enchant3",e[e.Type_Enchant4=5]="Type_Enchant4",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/FdAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./FdMgr.ts","./FDNode.ts"],(function(n){var i,t,e,r;return{setters:[function(n){i=n.createClass},function(n){t=n.cclegacy},null,function(n){e=n.default},function(n){r=n.FDNode}],execute:function(){t._RF.push({},"cdd63BS3IFPVqIZkudHlD37","FdAd",void 0);var d=n("default",function(){function n(){}return n.inidAd=function(n){n&&n()},n.getSystemInfoSync=function(){},n.initBanner=function(){},n.showBannerAd=function(){},n.hideBannerAd=function(){},n.countBannerTime=function(){this.bannerTimesArr[this.bannerIndex]+=.1,this.bannerTimesArr[this.bannerIndex]>=e.jsonConfig.refresh_banner_time&&(this.bannerAds[this.bannerIndex]&&this.bannerAds[this.bannerIndex].hide(),this.bannerTimesArr[this.bannerIndex]=0,this.bannerShowCount[this.bannerIndex]++,this.bannerShowCount[this.bannerIndex]>=e.jsonConfig.updateBanner&&(this.bannerShowCount[this.bannerIndex]=0,this.bannerAds[this.bannerIndex]&&this.bannerAds[this.bannerIndex].destroy(),this.bannerAds[this.bannerIndex]=null,this.bannerAds[this.bannerIndex]=this.createBannerAd(this.bannerIndex)),this.bannerIndex++,this.bannerIndex>=this.bannerIdArr.length&&(this.bannerIndex=0),this.showBannerAd())},n.stopCountBannerTime=function(){r.Share.unschedule(this.countBannerTimeSchedule)},n.createBannerAd=function(n,i){},n.createVideoAd=function(){},n.showVideoAd=function(n,i){return n&&n(),void(i&&i())},n.destroyVideoAd=function(){this.videoAd&&(this.videoAd.destroy(),this.videoAd=null)},n.initGridAD=function(){},n.createFullGrid=function(){this.isFullGridAdLoaded=!0},n.visibleFullGridAd=function(n){},n.getIsFullGridAdError=function(){return this.fullGridAd.length<=0&&this.createFullGrid(),this.fullGridAd.length<=0},n.createBottomGrid=function(){},n.visibleBottomGridAd=function(n){},n.createSideGrid=function(){},n.visibleSideGridAd=function(n){},n.createSingleGrid=function(){},n.visibleSingleGridAd=function(n){},n.createInterstitialAd=function(){},n.showInterstitialAd=function(n){var i=this;if(!this.intersititialAd||this.intersititialError)return this.intersititialError&&this.createInterstitialAd(),void(n&&n());this.intersititialCB=n,this.intersititialAd.show().then((function(){})).catch((function(n){i.intersititialCB&&i.intersititialCB()}))},n.OpenAlert=function(n,i,t){},i(n,null,[{key:"isAllBannerError",get:function(){for(var n=!0,i=0;i<this.bannerErrorArr.length;i++)if(!this.bannerErrorArr[i]){n=!1;break}return n}}]),n}());d.bannerIdArr=[],d.videoId=[],d.fullGridId=[],d.bottomGridId=[],d.sideGridId=[],d.singleGridId=[],d.interstitialId=[],d.sysInfo=void 0,d.bannerAds=[],d.bannerIndex=0,d.bannerTimesArr=[],d.bannerShowCount=[],d.bannerErrorArr=[],d.countBannerTimeSchedule=null,d.videoAd=void 0,d.videoFinishCallback=void 0,d.videoCancelCallback=void 0,d.isExistVideoAd=!1,d.fullGridAd=[],d.isFullGridAdLoaded=!1,d.bottomGridAd=null,d.bottomGridError=!1,d.sideGridAd=[],d.singleGridAd=[],d.intersititialAd=null,d.intersititialCB=null,d.intersititialError=!1,t._RF.pop()}}}));

System.register("chunks:///_virtual/FdMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./Box1.ts","./FdAd.ts","./FDNode.ts","./HomeUI.ts","./Remen.ts","./VideoBanner.ts"],(function(n){var e,i,o,t,s,d,r,a,h,u;return{setters:[function(n){e=n.createClass},function(n){i=n.cclegacy,o=n.find},function(n){t=n.WECHAT},function(n){s=n.Box1},function(n){d=n.default},function(n){r=n.FDNode},function(n){a=n.HomeUI},function(n){h=n.Remen},function(n){u=n.VideoBanner}],execute:function(){i._RF.push({},"9f993+tPXtOVJE1OOphe8Yi","FdMgr",void 0);n("RemenType",function(n){return n[n.Remen_Banner=0]="Remen_Banner",n[n.Remen_VideoBanner=1]="Remen_VideoBanner",n}({}));var c=n("BoxType",function(n){return n[n.Box_Banner=0]="Box_Banner",n[n.Box_VideoBanner=1]="Box_VideoBanner",n}({})),w=n("default",function(){function n(){}return n.randTouchProgress=function(){this.wuchuProgressValue=this.getRangeNumer(.3,.8)},n.getRangeNumer=function(n,e){return Math.random()*(e-n)+n},n.bannerShowHide=function(){d.hideBannerAd(),r.Share.scheduleOnce((function(){n.bannerShow(),r.Share.scheduleOnce((function(){n.bannerShowHide()}),.8)}),.6)},n.bannerShow=function(){d.showBannerAd()},n.stopBannerShowHide=function(){r.Share.unscheduleAllCallbacks(),d.hideBannerAd()},n.VideoBannerShowHide=function(){n.visibleVideoBanner(!1,!1),r.Share.scheduleOnce((function(){n.videoBannerShow(),r.Share.scheduleOnce((function(){n.VideoBannerShowHide()}),.8)}),.6)},n.videoBannerShow=function(){n.visibleVideoBanner(!0,!1)},n.stopVideoBannerShowHide=function(){r.Share.unscheduleAllCallbacks(),n.visibleVideoBanner(!1,!1)},n.init=function(n){this.randTouchProgress(),n&&n()},n.loadGame=function(n){},n.showHomeUI=function(n){o("FDCanvas/FDNode/HomeUI").getComponent(a).visibleUI(n)},n.showHomeUIReMen=function(n){o("FDCanvas/FDNode/Remen").getComponent(h).showUI(n)},n.showReMen=function(n){this.showRemen?o("FDCanvas/FDNode/Remen").getComponent(h).showUI(n):n&&n()},n.showStartReMen=function(n){this.startRemen?o("FDCanvas/FDNode/Remen").getComponent(h).showUI(n):n&&n()},n.showEndReMen=function(n){this.endRemen?o("FDCanvas/FDNode/Remen").getComponent(h).showUI(n,this.endRemen_switch):n&&n()},n.showBox1=function(n){this.firstBox?o("FDCanvas/FDNode/Box1").getComponent(s).showUI(n,this.firstBox_switch?c.Box_VideoBanner:c.Box_Banner):n&&n()},n.showBox2=function(n){this.bannerBox?o("FDCanvas/FDNode/Box1").getComponent(s).showUI(n,this.bannerBox_switch?c.Box_VideoBanner:c.Box_Banner):n&&n()},n.visibleVideoBanner=function(n,e){void 0===e&&(e=!0),n?o("FDCanvas/FDNode/VideoBanner").getComponent(u).showUI(e):o("FDCanvas/FDNode/VideoBanner").active=!1},n.showVirtualWxpage=function(n){var e=this;this.showVitualWx&&t?window.wx.showModal({title:"提示",content:"未观看完广告无法获取奖励，是否继续？",success:function(i){e.showVirtualCount<e.jsonConfig.vitualWx_count?(e.showVirtualCount++,d.showVideoAd(null,(function(){e.showVirtualWxpage(n)}))):(e.showVirtualCount=0,n&&n())}}):n&&n()},n.inHomePage=function(n){d.showInterstitialAd(),n&&n()},n.inShop=function(){this.showHomeUI(!1),d.hideBannerAd(),d.visibleSideGridAd(!1),d.visibleBottomGridAd(!1)},n.startGame=function(n){var e=this;this.showHomeUI(!1),d.hideBannerAd(),d.visibleSideGridAd(!1),d.visibleBottomGridAd(!1),d.showInterstitialAd((function(){e.showStartReMen((function(){e.showBox2((function(){e.showVirtualWxpage(n)}))}))}))},n.inGame=function(){d.visibleSingleGridAd()},n.showGameOver=function(n){this.visibleVideoBanner(!1),d.hideBannerAd(),d.visibleSingleGridAd(!1),this.showEndReMen(n)},n.inFinish=function(n){d.showInterstitialAd(),d.visibleSideGridAd(),d.hideBannerAd()},n.closeFinish=function(n){this.stopBannerShowHide(),this.stopVideoBannerShowHide(),d.visibleBottomGridAd(!1),d.visibleSideGridAd(!1),this.gameCount++,this.loadGame((function(){n&&n()}))},n.closeFinishAd=function(){this.stopBannerShowHide(),this.stopVideoBannerShowHide(),d.visibleBottomGridAd(!1),d.visibleSideGridAd(!1)},n.getConfig=function(n){var e=this,i=window.wx.getLaunchOptionsSync();console.log("当前场景：",i.scene),window.wxsdk.init({version:"1.0.0",appid:"309",secret:"7g6miz5ufllxho16vwbz060f2ivqramm",share:{title:"你能过得了这一关吗？",image:"https://game-oss.smallshark.cn/game/20211119/1216327431258.jpg?imageslim"}}),window.wxsdk.onInit((function(){console.log("wxsdk初始化成功:",window.wxsdk);var i=new l;for(var o in i)i[o]=window.wxsdk.conf[o];e.jsonConfig=i,console.log("config:",e.jsonConfig),e.jsonConfig.channel_ditch&&!window.wxsdk.user.channel&&(e.jsonConfig.allowMistouch=!1,console.log("config1:",e.jsonConfig)),d.bannerIdArr=window.wxsdk.conf.bannerIds?window.wxsdk.conf.bannerIds.split(","):[],d.videoId=window.wxsdk.conf.videoIds?window.wxsdk.conf.videoIds.split(","):[],d.fullGridId=window.wxsdk.conf.fullGridIds?window.wxsdk.conf.fullGridIds.split(","):[],d.bottomGridId=window.wxsdk.conf.bottomGridIds?window.wxsdk.conf.bottomGridIds.split(","):[],d.sideGridId=window.wxsdk.conf.sideGridIds?window.wxsdk.conf.sideGridIds.split(","):[],d.singleGridId=window.wxsdk.conf.singleGridIds?window.wxsdk.conf.singleGridIds.split(","):[],d.interstitialId=window.wxsdk.conf.interstitialIds?window.wxsdk.conf.interstitialIds.split(","):[],d.inidAd((function(){n&&n()}))})),window.wxsdk.login()},e(n,null,[{key:"allowScene",get:function(){return!0}},{key:"isVersionValid",get:function(){return!1}},{key:"canTrapAll",get:function(){return!1}},{key:"showRemen",get:function(){return!1}},{key:"startRemen",get:function(){return!1}},{key:"endRemen",get:function(){return!1}},{key:"showVitualWx",get:function(){return!1}},{key:"remenBanner",get:function(){return!1}},{key:"endBanner",get:function(){return!1}},{key:"endRemen_switch",get:function(){return!1}},{key:"firstBox_switch",get:function(){return!1}},{key:"firstBox",get:function(){return!1}},{key:"bannerBox",get:function(){return!1}},{key:"bannerBox_switch",get:function(){return!1}},{key:"endBanner_switch",get:function(){return!1}},{key:"homeViedo",get:function(){return!1}}]),n}());w.version="1.0.2",w.wuchuProgressValue=0,w.wuchuProgressStepAdd=.2,w.wuchuProgressFrameSub=.01,w.gameCount=1,w.showVirtualCount=0,w.jsonConfig=void 0;var l=function(){this.allowMistouch=void 0,this.bannerBox=void 0,this.bannerBox_switch=void 0,this.showRemen=void 0,this.sceneList=void 0,this.version=void 0,this.showVitualWx=void 0,this.refresh_banner_time=void 0,this.channel_ditch=void 0,this.updateBanner=void 0,this.remenBanner=void 0,this.vitualWx_count=void 0,this.endBanner=void 0,this.endBanner_switch=void 0,this.bannerBox_count=void 0,this.remenBanner_count=void 0,this.startRemen=void 0,this.endRemen=void 0,this.endRemen_switch=void 0,this.firstBox_switch=void 0,this.firstBox=void 0,this.homeViedo=void 0,this.firstBox_level=void 0,this.bannerBox_level=void 0,this.firstBox_interval_level=void 0,this.bannerBox_interval_level=void 0};i._RF.pop()}}}));

System.register("chunks:///_virtual/FDNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.game,i=e.Component}],execute:function(){var s,c;o._RF.push({},"52a7eYJlbBGPLBYi6SCmwYX","FDNode",void 0);var a=n.ccclass;n.property,e("FDNode",a("FDNode")(((c=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var n=o.prototype;return n.onLoad=function(){o.Share=this,r.addPersistRootNode(this.node.parent),this.node.setSiblingIndex(999)},n.start=function(){},o}(i)).Share=void 0,s=c))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/FinishUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FdMgr.ts","./PlatformApi.ts","./GameLogic.ts","./PlayerDataMgr.ts","./SoundMgr.ts"],(function(t){var n,r,e,i,a,o,u,l,c,s,g,h,S,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,u=t.Node,l=t.Label,c=t.Component},function(t){s=t.default},function(t){g=t.default},function(t){h=t.GameLogic},function(t){S=t.default},function(t){f=t.SoundMgr}],execute:function(){var m,p,d,y,A,C,b,D,E,P,v;a._RF.push({},"64deeljlZtGsKBfMDucdVRt","FinishUI",void 0);var w=o.ccclass,F=o.property;t("FinishUI",(m=w("FinishUI"),p=F(u),d=F(u),y=F(u),A=F(l),m((D=n((b=function(t){function n(){for(var n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,e(n,"winTitle",D,i(n)),e(n,"loseTitle",E,i(n)),e(n,"doubleBtn",P,i(n)),e(n,"numArr",v,i(n)),n}r(n,t);var a=n.prototype;return a.start=function(){this.winTitle.active=h.Share.isWin,this.loseTitle.active=!h.Share.isWin,this.numArr[0].string=h.Share.curGrade.toString(),this.numArr[1].string=":"+h.Share.gotMaterialsCount.toString(),this.numArr[2].string=":"+h.Share.gotSoulCount.toString(),this.numArr[3].string=":"+h.Share.gotEnchant1Count.toString(),this.numArr[4].string=":"+h.Share.gotEnchant2Count.toString(),this.numArr[5].string=":"+h.Share.gotEnchant3Count.toString(),this.numArr[6].string=":"+h.Share.gotEnchant4Count.toString(),s.inFinish()},a.doubleBtnCB=function(){var t=this;g.showVideo((function(){S.getPlayerData().material+=h.Share.gotMaterialsCount,S.getPlayerData().soul+=h.Share.gotSoulCount,S.getPlayerData().enchantArr[0]+=h.Share.gotEnchant1Count,S.getPlayerData().enchantArr[1]+=h.Share.gotEnchant2Count,S.getPlayerData().enchantArr[2]+=h.Share.gotEnchant3Count,S.getPlayerData().enchantArr[3]+=h.Share.gotEnchant4Count,S.setPlayerData(),t.numArr[1].string=":"+(2*h.Share.gotMaterialsCount).toString(),t.numArr[2].string=":"+(2*h.Share.gotSoulCount).toString(),t.numArr[3].string=":"+(2*h.Share.gotEnchant1Count).toString(),t.numArr[4].string=":"+(2*h.Share.gotEnchant2Count).toString(),t.numArr[5].string=":"+(2*h.Share.gotEnchant3Count).toString(),t.numArr[6].string=":"+(2*h.Share.gotEnchant4Count).toString(),h.Share.createTips("奖励翻倍"),t.doubleBtn.active=!1}))},a.backToHome=function(){f.Share.PlaySound("click"),s.closeFinish((function(){h.Share.restartGame()}))},a.update=function(t){},n}(c)).prototype,"winTitle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(b.prototype,"loseTitle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(b.prototype,"doubleBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(b.prototype,"numArr",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=b))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameBtnNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entity.ts","./SoundMgr.ts","./GameLogic.ts","./Player.ts","./UINode.ts"],(function(e){var t,n,o,a,i,r,h,c,s,d,l,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,a=e.Node,i=e.UITransform,r=e.v3,h=e.Component},function(e){c=e.UIType},function(e){s=e.SoundMgr},function(e){d=e.GameLogic},function(e){l=e.Player},function(e){u=e.UINode}],execute:function(){var N;n._RF.push({},"1ddb3QVS49J9Iha7OPO94xq","GameBtnNode",void 0);var p=o.ccclass;o.property,e("GameBtnNode",p("GameBtnNode")(N=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).shopNode=null,t.backNode=null,t.nextNode=null,t}t(n,e);var o=n.prototype;return o.onLoad=function(){this.shopNode=this.node.getChildByName("Shop"),this.backNode=this.node.getChildByName("Back"),this.nextNode=this.node.getChildByName("Next")},o.start=function(){this.shopNode.getChildByName("btn").on(a.EventType.TOUCH_END,this.shopCB,this),this.backNode.getChildByName("btn").on(a.EventType.TOUCH_END,this.backCB,this),this.nextNode.getChildByName("btn").on(a.EventType.TOUCH_END,this.nextCB,this)},o.shopCB=function(){s.Share.PlaySound("click"),u.Share.showUI(c.UI_SHOP,!0,(function(){u.Share.showUI(c.UI_GAME)}))},o.backCB=function(){s.Share.PlaySound("transform"),d.Share.gameOver(!0)},o.nextCB=function(){s.Share.PlaySound("transform"),d.Share.nextGrade()},o.update=function(e){this.node.children.forEach((function(e){if(e.getChildByName("tips")&&e.getChildByName("btn")){var t=e.getChildByName("tips"),n=e.getChildByName("btn"),o=e.getComponent(i).convertToWorldSpaceAR(r()),a=l.Share.node.getComponent(i).convertToWorldSpaceAR(r());t.active=Math.abs(o.x-a.x)>120,n.active=Math.abs(o.x-a.x)<=120}}))},n}(h))||N);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Player.ts"],(function(e){var t,o,n,a,i,r,s,c,h,l;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,a=e.Tween,i=e.view,r=e.Vec3,s=e.Component,c=e.v3,h=e.tween},function(e){l=e.Player}],execute:function(){var u,p;o._RF.push({},"0a073PPT05F3IjbrRkUmSAp","GameCamera",void 0);var d=n.ccclass;n.property,e("GameCamera",d("GameCamera")(((p=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).shakeTag=1,t}t(o,e);var n=o.prototype;return n.onLoad=function(){o.Share=this},n.start=function(){},n.shake=function(e){var t=this;void 0===e&&(e=5),a.stopAllByTag(this.shakeTag,this.node);var o=1,n=this.node.position.clone();!function a(){var i=c(10*Math.random()-5,10*Math.random()-5);r.add(i,i,n),h(t.node).to(.02,{position:i}).call((function(){if(++o>=e){var n=t.node.position.clone();return n.y=0,void(t.node.position=n)}a()})).tag(t.shakeTag).start()}()},n.update=function(e){if(l.Share&&l.Share){var t=l.Share.myPos,o=this.node.position.clone();o.x=t.x,o.x<0&&(o.x=0),o.x>3e3-i.getVisibleSize().width&&(o.x=3e3-i.getVisibleSize().width),r.lerp(o,this.node.position.clone(),o,.2),this.node.position=o}},o}(s)).Share=null,u=p))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc","./PlayerDataMgr.ts"],(function(t){var e,a;return{setters:[function(t){e=t.cclegacy},function(t){a=t.default}],execute:function(){e._RF.push({},"19e78EVowxMsJn6JpKQs16Z","GameData",void 0);var i=t("default",function(){function t(){}return t.getWeaponAtk=function(t){return(a.getPlayerData().attack+this.weaponData[t].atk+5*a.getPlayerData().weaponUpArr[t])*(1+.01*a.getPlayerData().weaponEnchantArr[t])},t.getWeaponDir=function(t,e){void 0===e&&(e=0);var a="";return t<5?a="Texture/Weapon/knife"+(t+1)+"_"+(e+1):t<10?a="Texture/Weapon/spear"+((t-=5)+1)+"_"+(e+1):t<15?a="Texture/Weapon/sword"+((t-=10)+1)+"_"+(e+1):t<20&&(a="Texture/Weapon/stick"+((t-=15)+1)+"_"+(e+1)),a},t.getWeaponIndexById=function(t){return t<5||(t<10?t-=5:t<15?t-=10:t<20&&(t-=15)),t},t}());i.isMusic=!0,i.isSound=!0,i.isVibrate=!0,i.hadShowOnlineGift=!1,i.VectorTrackDataArr=[],i.weaponData=[{id:1,type:0,atk:100},{id:2,type:0,atk:120},{id:3,type:0,atk:140},{id:4,type:0,atk:160},{id:5,type:0,atk:200},{id:6,type:1,atk:120},{id:7,type:1,atk:140},{id:8,type:1,atk:160},{id:9,type:1,atk:180},{id:10,type:1,atk:200},{id:11,type:2,atk:120},{id:12,type:2,atk:140},{id:13,type:2,atk:160},{id:14,type:2,atk:180},{id:15,type:2,atk:200},{id:16,type:3,atk:120},{id:17,type:3,atk:140},{id:18,type:3,atk:160},{id:19,type:3,atk:180},{id:20,type:3,atk:200}],i.weaponCost=[0,5888,8888,11888,18888,5888,8888,11888,13888,18888,5888,8888,11888,13888,18888,5888,8888,11888,13888,18888],i.skillCoolTime=[[3,3],[4,4],[4,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[4,3],[4,4],[3,3],[3,3],[4,4],[4,4],[4,4],[3,3],[3,3]],i.weaponOpenArr=[1,1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1,1,0,0],e._RF.pop()}}}));

System.register("chunks:///_virtual/GameLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FdMgr.ts","./PlatformApi.ts","./TipsNode.ts","./Entity.ts","./PlayerDataMgr.ts","./SoundMgr.ts","./Utility.ts","./DropProp.ts","./Monster.ts","./Player.ts","./UINode.ts"],(function(e){var t,o,i,n,r,a,s,d,c,h,l,u,f,p,g,m,N,v,S,b,C,P,y,M,w,B,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,d=e.Prefab,c=e.director,h=e.instantiate,l=e.v3,u=e.view,f=e.tween,p=e.resources,g=e.Label,m=e.Component},function(e){N=e.default},function(e){v=e.default},function(e){S=e.TipsNode},function(e){b=e.UIType},function(e){C=e.default},function(e){P=e.SoundMgr},function(e){y=e.default},function(e){M=e.DropProp},function(e){w=e.Monster},function(e){B=e.Player},function(e){D=e.UINode}],execute:function(){var G,x,z,E,V,A,I,T;a._RF.push({},"6b1b9yZtfVK65kE68xYSZk1","GameLogic",void 0);var U=s.ccclass,k=s.property;e("GameLogic",(G=U("GameLogic"),x=k(d),z=k(d),G(((T=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"MonsterPrefabArr",A,n(t)),i(t,"ArrowTipsPrefab",I,n(t)),t.BgNode=null,t.StartBtnNode=null,t.GameBtnNode=null,t.gameNode=null,t.monsterNode=null,t.EffectNode=null,t.PropNode=null,t.curGrade=1,t.waveCount=1,t.gotMaterialsCount=0,t.gotSoulCount=0,t.gotEnchant1Count=0,t.gotEnchant2Count=0,t.gotEnchant3Count=0,t.gotEnchant4Count=0,t.isStart=!1,t.isWin=!1,t.isGameOver=!1,t}o(t,e);var a=t.prototype;return a.onLoad=function(){t.Share=this,this.BgNode=this.node.getChildByName("BgNode"),this.StartBtnNode=this.node.getChildByName("StartBtnNode"),this.GameBtnNode=this.node.getChildByName("GameBtnNode"),this.gameNode=this.node.getChildByName("GameNode"),this.monsterNode=this.gameNode.getChildByName("MonsterNode"),this.EffectNode=this.gameNode.getChildByName("EffectNode"),this.PropNode=this.gameNode.getChildByName("PropNode")},a.start=function(){},a.setTimeScale=function(e){void 0===e&&(e=1),c._timeScale=e},a.gameStart=function(){P.Share.PlayMusic("gameBgm"),C.getPlayerData().isNewer=!1,C.setPlayerData(),D.Share.showUI(b.UI_GAME),this.isStart=!0,this.BgNode.children[0].active=!1,this.BgNode.children[1].active=!0,this.StartBtnNode.active=!1,B.Share.resetPos(),this.createMonster(),this.schedule(this.checkMonsterClear)},a.createMonster=function(){for(var e=0;e<10;e++){var t=y.GetRandom(0,11),o=h(this.MonsterPrefabArr[t]);this.monsterNode.addChild(o),o.active=!0;var i=Math.random()*(3e3-this.visibleSize.width/2-500)+400;o.position=l(i,-220),o.getComponent(w).initData(t)}},a.createMonsterNextWave=function(){for(var e=0;e<10;e++){var t=y.GetRandom(0,11),o=h(this.MonsterPrefabArr[t]);this.monsterNode.addChild(o),o.active=!0;var i=y.GetRandom(-u.getVisibleSize().width/2+50,3e3-u.getVisibleSize().width/2-50,!1);o.position=l(i,-220),o.getComponent(w).initData(t)}},a.createBoss=function(){for(var e=0;e<1;e++){var t=y.GetRandom(0,10),o=h(this.MonsterPrefabArr[t]);this.monsterNode.addChild(o),o.active=!0;var i=3e3-u.getVisibleSize().width/2-350;o.position=l(i,-220),o.getComponent(w).initData(t,!0)}},a.checkMonsterClear=function(){this.monsterNode.children.length<=0&&(this.GameBtnNode.active=!0,this.unschedule(this.checkMonsterClear))},a.createMonsterArrow=function(e){var t=l(B.Share.myPos.x,-220),o=h(this.ArrowTipsPrefab);this.gameNode.addChild(o),o.position=t;var i=o.getChildByName("arrow");this.scheduleOnce((function(){f(i).to(.2,{position:l(0,0)}).call((function(){Math.abs(o.position.x-B.Share.myPos.x)<=100&&B.Share.hurt(e),o.destroy()})).start()}),1)},a.createMonsterDmg=function(e,t){var o=this;p.load("Prefabs/Effect/MonsterDmg",d,(function(i,n){var r=h(n);r.position=t,r.setScale(5,5,1),o.gameNode.addChild(r),r.getComponentInChildren(g).string="="+Math.floor(e),f(r).to(.1,{scale:l(1,1,1)}).by(1,{position:l(0,200)}).removeSelf().start()}))},a.createDropProp=function(e,t,o){var i=this;void 0===t&&(t=!1);var n="";o||(100*Math.random()<(t?5:1)?(o=y.GetRandom(2,5),P.Share.PlaySound("dropEnchant"),v.doVibrate(!0)):o=100*Math.random()<80?0:1),0==o?n="Prefabs/Drop/DropMaterial":1==o?n="Prefabs/Drop/DropSoul":2==o?n="Prefabs/Drop/DropEnchant1":3==o?n="Prefabs/Drop/DropEnchant2":4==o?n="Prefabs/Drop/DropEnchant3":5==o&&(n="Prefabs/Drop/DropEnchant4"),p.load(n,d,(function(t,n){var r=h(n);i.PropNode.addChild(r),e.y+=100,r.position=e.clone();var a=e.clone(),s=e.clone(),d=e.clone(),c=100*Math.random()-50;s.x+=c,s.y+=100,d.x=0==c?0:c>0?s.x+50:s.x-50,d.y=-220,s.x<-u.getVisibleSize().width/2+50&&(s.x=-u.getVisibleSize().width/2+50),s.x>3e3-u.getVisibleSize().width/2-50&&(s.x=3e3-u.getVisibleSize().width/2-50),d.x<-u.getVisibleSize().width/2+50&&(d.x=-u.getVisibleSize().width/2+50),d.x>3e3-u.getVisibleSize().width/2-50&&(d.x=3e3-u.getVisibleSize().width/2-50);var l=r.addComponent(M);l.initData(o),y.bezierTo(r,.5,a,s,d,null).call((function(){l.isReady=!0})).start()}))},a.nextGrade=function(){this.curGrade++,this.GameBtnNode.active=!1,B.Share.resetPos(),this.createMonster(),this.curGrade%5==0&&this.createBoss(),this.schedule(this.checkMonsterClear),this.PropNode.children.forEach((function(e){e.getComponent(M).gotCB()}))},a.gameOver=function(e){this.isGameOver||(this.unschedule(this.checkMonsterClear),e&&this.PropNode.children.forEach((function(e){e.getComponent(M).gotCB()})),this.isStart=!1,this.isWin=e,this.isGameOver=!0,D.Share.closeUI(b.UI_GAME),N.showGameOver((function(){D.Share.showUI(b.UI_FINISH)})))},a.restartGame=function(){c.loadScene("Game")},a.createTips=function(e){var t=this;p.load("Prefabs/TipsNode",d,(function(o,i){var n=h(i);n.position=l(),t.node.addChild(n),n.getComponent(S).show(e)}))},a.update=function(e){},r(t,[{key:"visibleSize",get:function(){return u.getVisibleSize()}}]),t}(m)).Share=void 0,A=t((V=T).prototype,"MonsterPrefabArr",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(V.prototype,"ArrowTipsPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=V))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameLogic.ts"],(function(e){var r,t,n,i,a,o,c,u,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Label,u=e.Component},function(e){l=e.GameLogic}],execute:function(){var s,p,f,g,h;a._RF.push({},"85ea7ZIOfhGw7lDEqhohBLG","GameUI",void 0);var m=o.ccclass,d=o.property;e("GameUI",(s=m("GameUI"),p=d(c),s((h=r((g=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,n(r,"gradeNum",h,i(r)),r}t(r,e);var a=r.prototype;return a.start=function(){},a.update=function(e){this.gradeNum.string=l.Share.curGrade.toString()},r}(u)).prototype,"gradeNum",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/GoToShopUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UINode.ts","./Entity.ts"],(function(o){var t,n,e,c,r,i;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,c=o.Component},function(o){r=o.UINode},function(o){i=o.UIType}],execute:function(){var s;n._RF.push({},"02a69kCcPJHcqRxs+m20MoY","GoToShopUI",void 0);var u=e.ccclass;e.property,o("GoToShopUI",u("GoToShopUI")(s=function(o){function n(){return o.apply(this,arguments)||this}t(n,o);var e=n.prototype;return e.start=function(){},e.goBtnCB=function(){r.Share.showUI(i.UI_SHOP,!0,r.Share.closeCB)},e.closeBtnCB=function(){this.node.active=!1},e.update=function(o){},n}(c))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/HomeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FdAd.ts","./FdMgr.ts"],(function(e){var n,i,o,t,r,c,a,s,u,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,a=e.Node,s=e.Component},function(e){u=e.default},function(e){d=e.default}],execute:function(){var l,f,p,h,v;r._RF.push({},"a91bf0krShKHphqAP+qOC0L","HomeUI",void 0);var m=c.ccclass,b=c.property;e("HomeUI",(l=m("HomeUI"),f=b(a),l((v=n((h=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return n=e.call.apply(e,[this].concat(r))||this,o(n,"videoBtn",v,t(n)),n}i(n,e);var r=n.prototype;return r.onDisable=function(){},r.visibleUI=function(e){this.node.active=e,this.videoBtn.active=d.homeViedo},r.remenCB=function(){u.hideBannerAd(),u.visibleSideGridAd(!1),d.showHomeUIReMen((function(){u.showBannerAd(),u.visibleSideGridAd(!0)}))},r.videoCB=function(){u.showVideoAd((function(){window.wx.showToast({title:"恭喜获得1000金币！",duration:2e3,mask:!1,icon:"none"})}),null)},n}(s)).prototype,"videoBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=h))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/JoyStick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerDataMgr.ts","./GameData.ts","./Player.ts"],(function(t){var e,i,n,s,l,o,a,h,c,k,r,B;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,s=t.Node,l=t.KeyCode,o=t.v3,a=t.UITransform,h=t.ProgressBar,c=t.Component},function(t){k=t.default},function(t){r=t.default},function(t){B=t.Player}],execute:function(){var C;i._RF.push({},"0ece6sXr3BI6aqd40Z6CVPk","JoyStick",void 0);var d=n.ccclass;n.property,t("JoyStick",d("JoyStick")(C=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).StickNode=null,e.AtkBtn=null,e.Skill1Btn=null,e.Skill2Btn=null,e.FlashBtn=null,e.AwakenBtn=null,e.skill1Light=null,e.skill2Light=null,e.awakenLight=null,e}e(i,t);var n=i.prototype;return n.onLoad=function(){this.StickNode=this.node.getChildByName("Stick"),this.AtkBtn=this.node.getChildByName("BtnNode").getChildByName("atkBtn"),this.Skill1Btn=this.node.getChildByName("BtnNode").getChildByName("skill1Btn"),this.Skill2Btn=this.node.getChildByName("BtnNode").getChildByName("skill2Btn"),this.FlashBtn=this.node.getChildByName("BtnNode").getChildByName("flashBtn"),this.AwakenBtn=this.node.getChildByName("BtnNode").getChildByName("awakenBtn"),this.skill1Light=this.Skill1Btn.getChildByName("light"),this.skill2Light=this.Skill2Btn.getChildByName("light"),this.awakenLight=this.AwakenBtn.getChildByName("light")},n.start=function(){this.AtkBtn.on(s.EventType.TOUCH_START,this.attackCB,this),this.Skill1Btn.on(s.EventType.TOUCH_START,this.skill1CB,this),this.Skill2Btn.on(s.EventType.TOUCH_START,this.skill2CB,this),this.FlashBtn.on(s.EventType.TOUCH_START,this.flashCB,this),this.AwakenBtn.on(s.EventType.TOUCH_START,this.awakenCB,this),this.StickNode.on(s.EventType.TOUCH_START,this.stickTouchMove,this),this.StickNode.on(s.EventType.TOUCH_MOVE,this.stickTouchMove,this),this.StickNode.on(s.EventType.TOUCH_END,this.stickTouchEnd,this),this.StickNode.on(s.EventType.TOUCH_CANCEL,this.stickTouchEnd,this)},n.onKeyDown=function(t){switch(t.keyCode){case l.KEY_A:this.moveCB(-1);break;case l.KEY_D:this.moveCB(1);break;case l.KEY_J:this.attackCB();break;case l.KEY_K:this.flashCB();break;case l.KEY_U:this.skill1CB();break;case l.KEY_I:this.skill2CB();break;case l.KEY_L:this.awakenCB()}},n.onKeyUp=function(t){switch(t.keyCode){case l.KEY_A:case l.KEY_D:this.resetMoveCB()}},n.stickTouchMove=function(t){var e=t.getUILocation(),i=o(e.x,e.y,0);this.StickNode.getComponent(a).convertToNodeSpaceAR(i,i),i.y=0,i.x<-80&&(i.x=-80),i.x>80&&(i.x=80),this.StickNode.getChildByName("pic").position=i,this.moveCB(i.x>0?1:-1)},n.stickTouchEnd=function(t){this.StickNode.getChildByName("pic").position=o(0,0,0),this.resetMoveCB()},n.moveCB=function(t){B.Share.setMoveDir(t)},n.resetMoveCB=function(){B.Share.setMoveDir(0),B.Share.resetMove()},n.attackCB=function(){B.Share.attack()},n.flashCB=function(){B.Share.flash()},n.skill1CB=function(){B.Share.isSkill1Cooling||B.Share.skill1()},n.skill2CB=function(){B.Share.isSkill2Cooling||B.Share.skill2()},n.awakenCB=function(){B.Share.awakenNum<100||B.Share.awaken()},n.update=function(t){this.AwakenBtn.children[0].active=B.Share.awakenNum<100,this.skill1Light.active=B.Share.isSkill1CoolDone,this.skill2Light.active=B.Share.isSkill2CoolDone,this.awakenLight.active=B.Share.awakenNum>=100,this.Skill1Btn.getComponentInChildren(h).progress=B.Share.skill1CoolTime/r.skillCoolTime[k.getPlayerData().weaponId][0],this.Skill2Btn.getComponentInChildren(h).progress=B.Share.skill2CoolTime/r.skillCoolTime[k.getPlayerData().weaponId][1]},i}(c))||C);i._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleMgr.ts","./PlayerDataMgr.ts","./SoundMgr.ts"],(function(e){var r,t,n,i,o,a,s,u,l,c,d,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.ProgressBar,u=e.RichText,l=e.director,c=e.Component},function(e){d=e.default},null,function(e){p=e.SoundMgr}],execute:function(){var h,f,g,L,y,v,B;o._RF.push({},"7d0307ulBhIk7Zj2NjmZLLe","LoadingUI",void 0);var b=a.ccclass,m=a.property;e("LoadingUI",(h=b("LoadingUI"),f=m(s),g=m(u),h((v=r((y=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,n(r,"pBar",v,i(r)),n(r,"str",B,i(r)),r.hadLoaded=!1,r.sdkInited=!1,r._progress=0,r}t(r,e);var o=r.prototype;return o.start=function(){var e=this;d.loadResBundle("Res",(function(){p.Share.loadSounds((function(){e.hadLoaded=!0}))}))},o.init=function(){var e=this;this.schedule((function(){e.hadLoaded&&(e.unscheduleAllCallbacks(),l.loadScene("Game"))}),.05)},o.update=function(e){var r=this;this.pBar.progress=this._progress,this.pBar.progress>1&&(this.pBar.progress=1),this.str.string=(100*this._progress).toFixed(1),this.hadLoaded&&l.preloadScene("Game",(function(e,t,n){r._progress=e/t}),(function(){return l.loadScene("Game")}))},r}(c)).prototype,"pBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=r(y.prototype,"str",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=y))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./Box1.ts","./FDNode.ts","./FdAd.ts","./FdMgr.ts","./HomeUI.ts","./Remen.ts","./VideoBanner.ts","./PlatformApi.ts","./TipsNode.ts","./DropProp.ts","./EffectNode.ts","./GameBtnNode.ts","./GameCamera.ts","./GameData.ts","./GameLogic.ts","./JoyStick.ts","./Monster.ts","./OnlineGift.ts","./Player.ts","./PlayerAttackCrl.ts","./PlayerSkillCrl.ts","./PlayerStatus.ts","./StartBtnNode.ts","./SwordEffect.ts","./UINode.ts","./BundleMgr.ts","./Entity.ts","./OnlineTimeMgr.ts","./PlayerDataMgr.ts","./RotateLoop1.ts","./ScaleHNV.ts","./ScaleLoop1.ts","./SoundMgr.ts","./UpDownLoop.ts","./UpdateMaterial.ts","./UpdateSoul.ts","./Utility.ts","./FinishUI.ts","./GameUI.ts","./GoToShopUI.ts","./LoadingUI.ts","./OnlineUI.ts","./PlayerUpUI.ts","./SettingUI.ts","./ShopUI.ts","./StartUI.ts","./WeaponEnchantUI.ts","./WeaponUI.ts","./WeaponUpUI.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Monster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformApi.ts","./Entity.ts","./SoundMgr.ts","./Utility.ts","./GameCamera.ts","./GameLogic.ts","./Player.ts"],(function(t){var i,e,s,n,h,a,o,r,d,c,u,l,p,y,g,m,f,A,H,v,x,k;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,n=t._decorator,h=t.dragonBones,a=t.ProgressBar,o=t.view,r=t.UITransform,d=t.Vec2,c=t.v3,u=t.instantiate,l=t.tween,p=t.Tween,y=t.UIOpacity,g=t.Component},function(t){m=t.default},function(t){f=t.MonsterAniType},function(t){A=t.SoundMgr},function(t){H=t.default},function(t){v=t.GameCamera},function(t){x=t.GameLogic},function(t){k=t.Player}],execute:function(){var M;s._RF.push({},"217bcQJgjtAao1XIz2z9vpH","Monster",void 0);var S=n.ccclass;n.property,t("Monster",S("Monster")(M=function(t){function s(){for(var i,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(i=t.call.apply(t,[this].concat(s))||this).ani=null,i.HitArea=null,i.ArrowNode=null,i.Arrow=null,i.HpBar=null,i.curAniName=f.Type_Idle,i.id=0,i.hp=100,i.hpMax=100,i.atk=5,i.speed=7,i.dirX=0,i.edgeMin=0,i.edgeMax=0,i.hitBackTag1=1,i.hitBackTag2=2,i.isBoss=!1,i.isHunting=!1,i.isAttacking=!1,i.isHurting=!1,i.isDied=!1,i}i(s,t);var n=s.prototype;return n.onLoad=function(){this.ani=this.node.getChildByName("db").getComponent(h.ArmatureDisplay),this.HitArea=this.node.getChildByName("hitArea"),this.ArrowNode=this.node.getChildByName("arrowNode"),this.Arrow=this.node.getChildByName("arrow"),this.HpBar=this.ani.node.getChildByName("HpBar").getComponent(a),this.edgeMin=-o.getVisibleSize().width/2+50,this.edgeMax=3e3-o.getVisibleSize().width/2-50},n.start=function(){this.ani.on(h.EventObject.COMPLETE,this.animationCompleted,this),this.ani.on(h.EventObject.FRAME_EVENT,this.animationFrameEvent,this),this.hp=600+200*x.Share.curGrade,this.hpMax=this.hp,this.atk=2*x.Share.curGrade,this.isBoss&&(this.ani.node.setScale(2,2,1),this.speed*=1.5,this.hp*=4,this.hpMax=this.hp),this.playAnimation(f.Type_Idle),this.scheduleHunt(2)},n.initData=function(t,i){void 0===i&&(i=!1),this.id=t,this.isBoss=i},n.playAnimation=function(t,i,e){void 0===i&&(i=-1),void 0===e&&(e=1),this.curAniName==t&&t!=f.Type_Hurt||(this.ani.timeScale=e,this.ani.playAnimation(t,i),this.curAniName=t,t==f.Type_Idle&&(this.dirX=0))},n.animationCompleted=function(t){this.curAniName==f.Type_Attack&&(this.playAnimation(f.Type_Idle),this.isAttacking=!1)},n.animationFrameEvent=function(t){"checkAttack"==t.name&&this.checkAttack()},n.checkHurtPlayer=function(){var t=this.node.parent.getComponent(r).convertToNodeSpaceAR(H.getWorldPos(this.HitArea)),i=k.Share.myPos;i.y+=100;var e=this.HitArea.getComponent(r).contentSize.width;this.isBoss&&(e=2*e/Math.abs(this.ani.node.scale.x)),d.distance(t,i)<=e&&k.Share.hurt(this.isBoss?2*this.atk:this.atk,this.myPos.x<k.Share.myPos.x?1:-1)},n.startHunt=function(){if(!(this.isHurting||this.isAttacking||this.isDied)){var t=1*Math.random(),i=0;i=t<.1?0:t<.2?1:t<.6?2:3,Math.abs(this.myPos.x-k.Share.node.position.x)<=200&&1*Math.random()<.5&&(i=3),0==i?(this.playAnimation(f.Type_Idle),this.scheduleHunt(1)):1==i?(this.dirX=1*Math.random()<.5?-1:1,this.scheduleHunt(2)):2==i?(this.dirX=k.Share.node.position.x<this.myPos.x?-1:1,this.scheduleHunt(1)):3==i&&(this.attack(),this.scheduleHunt(2))}},n.scheduleHunt=function(t){var i=this;this.unschedule(this.startHunt),this.scheduleOnce((function(){i.scheduleOnce(i.startHunt,t)}))},n.move=function(){if(!(this.isDied||this.isHurting||this.isAttacking)){var t=this.speed,i=this.myPos;i.x+=this.dirX*t,this.node.position=i,0!=this.dirX&&(this.node.setScale(c(-1*this.dirX,1,1)),this.playAnimation(f.Type_Run,-1,.8))}},n.attack=function(){if(!this.isDied&&!this.isHurting){this.isAttacking=!0;var t=H.GetRandom(1,3);this.playAnimation(f.Type_Attack,t)}},n.checkAttack=function(){11!=this.id?this.checkHurtPlayer():this.createArrow()},n.createArrow=function(){var t=u(this.Arrow);this.ArrowNode.addChild(t),t.active=!0,t.position=c(60*Math.random()-30,0),l(t).by(.4,{position:c(0,1e3)}).removeSelf().start(),x.Share.createMonsterArrow(this.atk)},n.hurt=function(t,i,e){var s=this;if(void 0===e&&(e=!0),!this.isDied&&this.node.active)if(m.doVibrate(),this.unschedule(this.startHunt),this.unschedule(this.resetHurt),this.unschedule(this.resetHurt0),e?A.Share.PlaySound("attackHurt"):A.Share.PlaySound("monsterHurt"),v.Share.shake(),this.hp-=t,this.playAnimation(f.Type_Hurt,1),this.isHurting=!0,this.isAttacking=!1,this.HpBar.progress=this.hp/this.hpMax,this.hp<0)this.died();else{var n=this.node.position.x<k.Share.node.position.x?-1:1;if(0==i)this.scheduleOnce(this.resetHurt0,.3);else if(1==i)this.schedule(this.resetHurt),p.stopAllByTag(this.hitBackTag1,this.node),p.stopAllByTag(this.hitBackTag2,this.node),l(this.node).tag(this.hitBackTag1).to(.04,{position:c(this.myPos.x+100*n,-220)}).delay(.3).call((function(){s.isHurting=!1})).start();else if(2==i){this.schedule(this.resetHurt),p.stopAllByTag(this.hitBackTag1,this.node),p.stopAllByTag(this.hitBackTag2,this.node);var h=this.myPos,a=this.myPos,o=this.myPos;a.y+=400,a.x+=150*n,o.x+=300*n,o.y=-220,a.x<this.edgeMin&&(a.x=this.edgeMin),a.x>this.edgeMax&&(a.x=this.edgeMax),o.x<this.edgeMin&&(o.x=this.edgeMin),o.x>this.edgeMax&&(o.x=this.edgeMax),H.bezierTo(this.node,.6,h,a,o,null).tag(this.hitBackTag2).call((function(){s.isHurting=!1})).start()}}},n.resetHurt0=function(){-220!=this.node.position.y||this.isDied||(this.isHurting=!1,this.playAnimation(f.Type_Idle),this.unschedule(this.resetHurt),this.scheduleHunt(0))},n.resetHurt=function(){this.isHurting||-220!=this.node.position.y||this.isDied||(this.isHurting=!1,this.playAnimation(f.Type_Idle),this.unschedule(this.resetHurt),this.scheduleHunt(0))},n.died=function(){var t=this;if(!this.isDied){A.Share.PlaySound("fire"),this.isDied=!0,this.playAnimation(f.Type_Died,1),this.ani.node.getChildByName("FireFx").active=!0;var i=this.myPos;if(this.isBoss)for(var e=0;e<10;e++)this.scheduleOnce((function(){x.Share.createDropProp(i)}),.2*e);else x.Share.createDropProp(i);l(this.node.getChildByName("db").getComponent(y)).to(1,{opacity:0}).call((function(){t.node.destroy()})).start()}},n.update=function(t){if(!this.isDied){this.move();var i=this.myPos;i.x<-o.getVisibleSize().width/2+50&&(i.x=-o.getVisibleSize().width/2+50),i.x>3e3-o.getVisibleSize().width/2-50&&(i.x=3e3-o.getVisibleSize().width/2-50),this.node.position=i}},e(s,[{key:"myPos",get:function(){return this.node.position.clone()}}]),s}(g))||M);s._RF.pop()}}}));

System.register("chunks:///_virtual/OnlineGift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entity.ts","./OnlineTimeMgr.ts","./SoundMgr.ts","./UINode.ts"],(function(t){var i,e,n,r,o,a,l,u,c,f,s,p,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Node,u=t.Label,c=t.Component},function(t){f=t.UIType},function(t){s=t.OnlineTimeMgr},function(t){p=t.SoundMgr},function(t){h=t.UINode}],execute:function(){var g,m,d,b,S,v,y,O,M,T,I;o._RF.push({},"2e5104SpJxOxbPLSE7mMu3t","OnlineGift",void 0);var w=a.ccclass,z=a.property;t("OnlineGift",(g=w("OnlineGift"),m=z(l),d=z(l),b=z(l),S=z(l),g((O=i((y=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"light",O,r(i)),n(i,"tips",M,r(i)),n(i,"finger",T,r(i)),n(i,"time",I,r(i)),i}e(i,t);var o=i.prototype;return o.start=function(){},o.btnCB=function(){p.Share.PlaySound("click"),h.Share.showUI(f.UI_ONLINE,!1)},o.updateTime=function(){if(s.Share.time>=s.Share.giftTime)return this.time.parent.active=!1,this.tips.active=!0,this.light.active=!0,void(this.finger.active=!0);var t=s.Share.giftTime-s.Share.time;t<0&&(t=0);var i=Math.floor(t/60),e=Math.floor(t-60*i),n=e<10?"0"+e.toString():e.toString();this.time.getComponent(u).string=0+i.toString()+":"+n},o.update=function(t){this.updateTime(),s.Share.hadGotOnlineGift&&(this.node.active=!1)},i}(c)).prototype,"light",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(y.prototype,"tips",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(y.prototype,"finger",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(y.prototype,"time",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/OnlineTimeMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,r=t.game,o=t.Component}],execute:function(){var a,c;n._RF.push({},"53f25hxYdZKopf6eSOtzzvz","OnlineTimeMgr",void 0);var s=i.ccclass;i.property,t("OnlineTimeMgr",s("OnlineTimeMgr")(((c=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).giftTime=300,e.time=0,e.hadGotOnlineGift=!1,e.hadStart=!1,e}e(n,t);var i=n.prototype;return i.onLoad=function(){r.addPersistRootNode(this.node),n.Share=this},i.start=function(){},i.startTimeCounter=function(){this.hadStart=!0,this.schedule(this.timeCounter,1)},i.timeCounter=function(){this.time++},i.update=function(t){},n}(o)).Share=void 0,a=c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/OnlineUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./GameLogic.ts","./OnlineTimeMgr.ts","./PlayerDataMgr.ts","./SoundMgr.ts"],(function(t){var e,r,n,a,i,c,o,u,l,s,h,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,o=t.Node,u=t.Component},function(t){l=t.default},function(t){s=t.GameLogic},function(t){h=t.OnlineTimeMgr},function(t){f=t.default},function(t){p=t.SoundMgr}],execute:function(){var g,y,d,S,A,m,v;i._RF.push({},"47e93xamjZD14oji36YLcPc","OnlineUI",void 0);var D=c.ccclass,P=c.property;t("OnlineUI",(g=D("OnlineUI"),y=P(o),d=P(o),g((m=e((A=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(e,"sureBtn",m,a(e)),n(e,"getBtn",v,a(e)),e.countArr=[1e4,5e3,5,5,5,5],e}r(e,t);var i=e.prototype;return i.start=function(){l.hadShowOnlineGift=!0},i.onEnable=function(){h.Share.time>=h.Share.giftTime&&!h.Share.hadGotOnlineGift&&(this.sureBtn.active=!1,this.getBtn.active=!0)},i.getBtnCB=function(){var t=this;p.Share.PlaySound("click"),f.getPlayerData().material+=this.countArr[0],f.getPlayerData().soul+=this.countArr[1],f.getPlayerData().enchantArr[0]+=this.countArr[2],f.getPlayerData().enchantArr[1]+=this.countArr[3],f.getPlayerData().enchantArr[2]+=this.countArr[4],f.getPlayerData().enchantArr[3]+=this.countArr[5],f.setPlayerData(),h.Share.hadGotOnlineGift=!0;for(var e=function(e){s.Share.scheduleOnce((function(){0==e?s.Share.createTips("恭喜获得材料x"+t.countArr[0]):1==e?s.Share.createTips("恭喜获得魂x"+t.countArr[1]):2==e?s.Share.createTips("恭喜获得火焰附魔石x"+t.countArr[2]):3==e?s.Share.createTips("恭喜获得寒冰附魔石x"+t.countArr[3]):4==e?s.Share.createTips("恭喜获得雷电附魔石x"+t.countArr[4]):5==e&&s.Share.createTips("恭喜获得剧毒附魔石x"+t.countArr[5])}),.5*e)},r=0;r<6;r++)e(r);this.node.active=!1},i.closeBtnCB=function(){p.Share.PlaySound("click"),this.node.active=!1},i.update=function(t){},e}(u)).prototype,"sureBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(A.prototype,"getBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=A))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformApi.ts",["cc","./FdAd.ts","./GameData.ts"],(function(t){var n,e,o;return{setters:[function(t){n=t.cclegacy},function(t){e=t.default},function(t){o=t.default}],execute:function(){n._RF.push({},"b2813/PB1lJJ4h7ogSoDVd7","PlatformApi",void 0);t("default",function(){function t(){}return t.showVideo=function(t){e.showVideoAd(t)},t.doVibrate=function(t){o.isVibrate},t.OpenAlert=function(t,n,e){},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleMgr.ts","./PlayerDataMgr.ts","./SoundMgr.ts","./GameData.ts","./GameLogic.ts"],(function(t){var i,e,s,a,n,o,h,l,c,r,f,k,u,p,g,m,d,y,A,S;return{setters:[function(t){i=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,a=t._decorator,n=t.Animation,o=t.resources,h=t.Prefab,l=t.instantiate,c=t.v3,r=t.Sprite,f=t.Color,k=t.view,u=t.Tween,p=t.tween,g=t.Component},function(t){m=t.default},function(t){d=t.default},function(t){y=t.SoundMgr},function(t){A=t.default},function(t){S=t.GameLogic}],execute:function(){var w,C;s._RF.push({},"18207+3ZLROdqd2eEaNxDJn","Player",void 0);var v=a.ccclass;a.property,t("Player",v("Player")(((C=function(t){function s(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return(i=t.call.apply(t,[this].concat(s))||this).weaponPic=null,i.ani=null,i.flashFX=null,i.AttackEffect=null,i.SkillEffect=null,i.FlashEffect=null,i.AwakenEffect1=null,i.AwakenEffect2=null,i.hp=100,i.hpMax=100,i.awakenNum=0,i.atk=100,i.speed=1,i.critical=0,i.weaponType=0,i.enchantType=0,i.attackStep=0,i.moveSpeed=10,i.skill1CoolTime=0,i.skill2CoolTime=0,i.playSkillIndex=1,i.curAniName="",i.dirX=0,i.isSkill1CoolDone=!1,i.isSkill2CoolDone=!1,i.isSkill1Cooling=!1,i.isSkill2Cooling=!1,i.canAttackCombo=!1,i.isHurting=!1,i.isAttacking=!1,i.isSkilling=!1,i.isFlashing=!1,i.isInvincible=!1,i.isAwakening=!1,i.isDied=!1,i.attackTweenTag=1,i.hurtTweenTag=2,i}i(s,t);var a=s.prototype;return a.onLoad=function(){s.Share=this,this.ani=this.getComponent(n),this.weaponPic=this.node.getChildByName("BodyRoot").getChildByName("centre").getChildByName("arm_r").getChildByName("p_forearm_r").getChildByName("knife1_1"),this.AttackEffect=this.node.getChildByName("AttackEffect"),this.SkillEffect=this.node.getChildByName("SkillEffect"),this.FlashEffect=this.node.getChildByName("FlashEffect")},a.start=function(){var t=this;this.AwakenEffect2=S.Share.node.getChildByName("AwakeEffect2"),this.resetData(),o.load("Prefabs/Effect/FlashFX",h,(function(i,e){t.node&&(t.flashFX=l(e),t.flashFX.position=c(-200,100),t.node.addChild(t.flashFX))})),o.load("Prefabs/Effect/AwakeEffect1",h,(function(i,e){t.node&&(t.AwakenEffect1=l(e),t.AwakenEffect1.position=c(0,-30),t.node.addChild(t.AwakenEffect1))})),this.playAnimation(this.idleName),this.ani.on(n.EventType.FINISHED,this.animationCompleted,this),this.resetPos(),this.changeWeapon(),A.VectorTrackDataArr.length<=0&&this.setRootVectorTrackValue()},a.resetData=function(){this.weaponType=A.weaponData[d.getPlayerData().weaponId].type;var t=d.getPlayerData().weaponId;this.hp=d.getPlayerData().hp,this.hpMax=this.hp,this.speed=d.getPlayerData().speed,this.critical=d.getPlayerData().critical,this.atk=A.getWeaponAtk(t)},a.changeWeapon=function(){var t=d.getPlayerData().weaponId;switch(this.weaponType=A.weaponData[t].type,this.enchantType=d.getPlayerData().weaponEnchantTypeArr[t],m.setSpriteFrameInBundle(A.getWeaponDir(d.getPlayerData().weaponId,this.enchantType),this.weaponPic.getComponent(r)),this.enchantType){case 0:this.AttackEffect.getComponent(r).color=(new f).fromHEX("#ffffff"),this.SkillEffect.getComponent(r).color=(new f).fromHEX("#ffffff"),this.FlashEffect.getComponent(r).color=(new f).fromHEX("#ffffff");break;case 1:this.AttackEffect.getComponent(r).color=(new f).fromHEX("#ffff00"),this.SkillEffect.getComponent(r).color=(new f).fromHEX("#ffff00"),this.FlashEffect.getComponent(r).color=(new f).fromHEX("#ffff00");break;case 2:this.AttackEffect.getComponent(r).color=(new f).fromHEX("#00ffff"),this.SkillEffect.getComponent(r).color=(new f).fromHEX("#00ffff"),this.FlashEffect.getComponent(r).color=(new f).fromHEX("#00ffff");break;case 3:this.AttackEffect.getComponent(r).color=(new f).fromHEX("#F500FF"),this.SkillEffect.getComponent(r).color=(new f).fromHEX("#F500FF"),this.FlashEffect.getComponent(r).color=(new f).fromHEX("#F500FF");break;case 4:this.AttackEffect.getComponent(r).color=(new f).fromHEX("#00FF00"),this.SkillEffect.getComponent(r).color=(new f).fromHEX("#00FF00"),this.FlashEffect.getComponent(r).color=(new f).fromHEX("#00FF00")}},a.setRootVectorTrackValue=function(){for(var t=this.ani.clips,i=0;i<t.length;i++)for(var e={},s=t[i],a=s.tracks,n=function(){var t=a[o].path;if(!t)return 1;if(t.slice(0,1).isPropertyAt(0)&&"position"==t.slice(0,1).parsePropertyAt(0)){e.name=s.name;var i=a[o],n=[],h=[];i.channels()[0].curve._values.forEach((function(t){n.push(t.value)})),i.channels()[1].curve._values.forEach((function(t){h.push(t.value)})),e.values=[n,h],A.VectorTrackDataArr.push(e)}},o=0;o<a.length;o++)n()},a.getRootVectorTrack=function(t){for(var i=[],e=0;e<A.VectorTrackDataArr.length;e++)A.VectorTrackDataArr[e].name==t&&(i=A.VectorTrackDataArr[e].values);return i},a.applyRootVectorTrack=function(t){for(var i=this,e=this.getRootVectorTrack(t),s=this.ani.getState(t).clip.tracks,a=function(){var t=s[n].path;if(!t)return 1;if(t.slice(0,1).isPropertyAt(0)&&"position"==t.slice(0,1).parsePropertyAt(0)){var a=s[n];a.channels()[0].curve._values.forEach((function(t){var s=a.channels()[0].curve._values.indexOf(t),n=i.myPos.x+e[0][s]*i.node.getScale().x;n<-k.getVisibleSize().width/2+50&&(n=-k.getVisibleSize().width/2+50),n>3e3-k.getVisibleSize().width/2-50&&(n=3e3-k.getVisibleSize().width/2-50),t.value=n})),a.channels()[1].curve._values.forEach((function(t){var s=a.channels()[1].curve._values.indexOf(t);t.value=i.myPos.y+e[1][s]}))}},n=0;n<s.length;n++)a()},a.resetPos=function(){var t=c(-k.getVisibleSize().width/2+400,this.myPos.y);this.node.position=t},a.playAnimation=function(t,i){u.stopAllByTag(this.attackTweenTag,this.node),u.stopAllByTag(this.hurtTweenTag,this.node),this.ani.play(t),this.ani.getState(t).speed=i||this.ani.getState(t).speed,this.curAniName=t,this.unschedule(this.resetAttacking),this.canAttackCombo=!1,this.isAttacking=!1,this.isHurting=!1,this.isSkilling=!1,this.isFlashing=!1,-1!=t.search("Attack")&&(this.isAttacking=!0),-1!=t.search("Hurt")&&(this.isHurting=!0),-1!=t.search("Skill")&&(this.isSkilling=!0),-1!=t.search("Flash")&&(this.isFlashing=!0)},a.animationCompleted=function(t){-1!=this.curAniName.search("Attack")&&(this.unschedule(this.resetAttackStep),this.scheduleOnce(this.resetAttackStep,.2)),-1!=this.curAniName.search("Skill")&&(this.isSkilling=!1,this.isInvincible=!1),-1==this.curAniName.search("Attack")&&-1==this.curAniName.search("Hurt")&&-1==this.curAniName.search("Flash")&&-1==this.curAniName.search("Skill")||this.playAnimation(this.idleName)},a.setMoveDir=function(t){this.dirX=t},a.move=function(){if(!(0==this.dirX||this.isFlashing||this.isAttacking||this.isHurting||this.isSkilling||this.isDied)){this.ani.getState(this.runName).isPlaying||this.playAnimation(this.runName);var t=this.moveSpeed+.5*(this.speed-1),i=this.myPos;i.x+=this.dirX*t,this.node.position=i,this.node.setScale(c(this.dirX,1,1))}},a.resetMove=function(){this.isFlashing||this.isAttacking||this.isHurting||this.isSkilling||this.isDied||this.playAnimation(this.idleName)},a.attack=function(){this.isFlashing||this.isHurting||this.isSkilling||this.isDied||this.isAttacking&&!this.canAttackCombo||(y.Share.PlaySound("attack"),this.unschedule(this.resetAttackStep),this.unschedule(this.resetAttacking),this.attackStep++,this.attackStep>3&&(this.attackStep=1),this.applyRootVectorTrack(this.attackName),this.playAnimation(this.attackName),this.scheduleOnce(this.resetAttacking,this.ani.getState(this.attackName).clip.duration/this.ani.getState(this.attackName).clip.speed*.65))},a.resetAttackStep=function(){this.attackStep=0},a.resetAttacking=function(){this.canAttackCombo=!0},a.skill1=function(){this.isFlashing||this.isAttacking||this.isHurting||this.isSkilling||this.isDied||(this.playSkillIndex=1,this.isInvincible=!0,this.isSkill1Cooling=!0,this.isSkill1CoolDone=!1,this.skill1CoolTime=A.skillCoolTime[d.getPlayerData().weaponId][0],this.applyRootVectorTrack(this.skillName+1),this.playAnimation(this.skillName+1))},a.skill2=function(){this.isFlashing||this.isAttacking||this.isHurting||this.isSkilling||this.isDied||(this.playSkillIndex=2,this.isInvincible=!0,this.isSkill2Cooling=!0,this.isSkill2CoolDone=!1,this.skill2CoolTime=A.skillCoolTime[d.getPlayerData().weaponId][1],this.applyRootVectorTrack(this.skillName+2),this.playAnimation(this.skillName+2))},a.flash=function(){var t=this;if(!(this.isFlashing||this.isAttacking||this.isHurting||this.isSkilling||this.isDied)){y.Share.PlaySound("flash"),this.playAnimation(this.flashName),this.isInvincible=!0,this.flashFX&&this.flashFX.getComponent(n).play();var i=this.myPos;i.x+=500*this.node.getScale().x,p(this.node).to(.02,{position:i}).call((function(){t.isInvincible=!1,t.isFlashing=!1})).start()}},a.addAwakenNum=function(t){this.isAwakening||(this.awakenNum+=t,this.awakenNum>=100&&(this.awakenNum=100))},a.awaken=function(){y.Share.PlaySound("awaken"),S.Share.createTips("持续回血并且技能无CD"),this.awakenNum=0,this.AwakenEffect1.active=!0,this.AwakenEffect2.active=!0,this.isAwakening=!0,this.unschedule(this.resetAwakenEffect),this.scheduleOnce(this.resetAwakenEffect,10)},a.resetAwakenEffect=function(){this.AwakenEffect1.active=!1,this.AwakenEffect2.active=!1,this.isAwakening=!1},a.hurt=function(t,i){void 0===i&&(i=1),this.isInvincible||this.isDied||(y.Share.PlaySound("playerHurt"),this.playAnimation(this.hurtName),p(this.node).by(.1,{position:c(50*i,0)}).tag(this.hurtTweenTag).start(),this.hp-=t,this.hp<=0&&this.died())},a.died=function(){this.isDied||(this.isDied=!0,this.playAnimation(this.diedName),this.scheduleOnce((function(){S.Share.gameOver(!1)}),2))},a.update=function(t){if(!this.isDied){this.isSkill1Cooling&&(this.skill1CoolTime-=t,this.skill1CoolTime<=0&&(this.skill1CoolTime=0,this.isSkill1Cooling=!1,this.isSkill1CoolDone=!0)),this.isSkill2Cooling&&(this.skill2CoolTime-=t,this.skill2CoolTime<=0&&(this.skill2CoolTime=0,this.isSkill2Cooling=!1,this.isSkill2CoolDone=!0)),this.isAwakening&&(this.hp+=.01*this.hpMax,this.hp>this.hpMax&&(this.hp=this.hpMax),this.skill1CoolTime=0,this.skill2CoolTime=0),this.move();var i=this.myPos;i.x<-k.getVisibleSize().width/2+50&&(i.x=-k.getVisibleSize().width/2+50),i.x>3e3-k.getVisibleSize().width/2-50&&(i.x=3e3-k.getVisibleSize().width/2-50),this.node.position=i}},e(s,[{key:"myAtk",get:function(){return 100*Math.random()<this.critical?{atk:1.5*this.atk,isCritical:!0}:{atk:1.5*this.atk,isCritical:!1}}},{key:"myPos",get:function(){return this.node.position.clone()}},{key:"idleName",get:function(){return"Idle"+(this.weaponType+1)}},{key:"runName",get:function(){return"Run"+(this.weaponType+1)}},{key:"attackName",get:function(){return"Attack"+(this.weaponType+1)+"_"+this.attackStep}},{key:"skillName",get:function(){return"Skill"+(this.weaponType+1)+"_"+(A.getWeaponIndexById(d.getPlayerData().weaponId)+1)+"_"}},{key:"flashName",get:function(){return"Flash"+(this.weaponType+1)}},{key:"hurtName",get:function(){return"Hurt"+(this.weaponType+1)}},{key:"diedName",get:function(){return"Died"+(this.weaponType+1)}}]),s}(g)).Share=null,w=C))||w);s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerAttackCrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utility.ts","./EffectNode.ts","./GameLogic.ts","./Monster.ts","./Player.ts"],(function(t){var e,r,n,o,a,c,i,l,u,s;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Intersection2D,a=t.Component},function(t){c=t.default},function(t){i=t.EffectNode},function(t){l=t.GameLogic},function(t){u=t.Monster},function(t){s=t.Player}],execute:function(){var f;r._RF.push({},"118fcxc3ipDTIBy86sge+/E","PlayerAttackCrl",void 0);var h=n.ccclass;n.property,t("PlayerAttackCrl",h("PlayerAttackCrl")(f=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).hurtArea=null,e}e(r,t);var n=r.prototype;return n.onLoad=function(){this.hurtArea=this.node.getChildByName("HurtArea")},n.start=function(){},n.atkCB=function(t){var e=this.checkCollMonster();if(!(e.length<=0))for(var r=0;r<e.length;r++){var n=e[r],o=n.getComponent(u);if(!o.isDied){var a=n.position.clone();a.y+=100,i.Share.createSwordEffect(a),s.Share.addAwakenNum(1)}var c=s.Share.myAtk.atk;if(s.Share.myAtk.isCritical){var l=n.position.clone();l.y+=200,i.Share.createCriticalEffect(l)}o.hurt(c,t)}},n.checkCollMonster=function(){for(var t=[],e=l.Share.monsterNode,r=0;r<e.children.length;r++){var n=e.children[r];if(!n.active)return;o.rectRect(c.getBoundingBoxToWorld(n),c.getBoundingBoxToWorld(this.hurtArea))&&t.push(n)}return t},n.update=function(t){},r}(a))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerDataMgr.ts",["cc"],(function(t){var a,e;return{setters:[function(t){a=t.cclegacy,e=t._decorator}],execute:function(){var r,i;a._RF.push({},"bb608tNTlZNeJ1Od4FBjqrT","PlayerDataMgr",void 0);var n=e.ccclass,s=(e.property,t("PlayerData",(function(){this.isNewer=!0,this.soul=0,this.material=0,this.hp=200,this.attack=100,this.speed=1,this.critical=0,this.enchantArr=[0,0,0,0],this.weaponId=0,this.weaponArr=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.weaponUpArr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.weaponEnchantArr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.weaponEnchantTypeArr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.exitTime=0})));t("default",n(((i=function(){function t(){}return t.getPlayerData=function(){if(localStorage.getItem("playerData")){if(null==this._playerData){var t=localStorage.getItem("playerData");this._playerData=JSON.parse(t)}}else this._playerData=new s,localStorage.setItem("playerData",JSON.stringify(this._playerData));return this._playerData},t.setPlayerData=function(){localStorage.setItem("playerData",JSON.stringify(this._playerData))},t.getWeaponEnchantType=function(){return this._playerData.weaponEnchantTypeArr[this._playerData.weaponId]},t}())._playerData=void 0,r=i))||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerSkillCrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerDataMgr.ts","./Utility.ts","./EffectNode.ts","./GameLogic.ts","./Monster.ts","./Player.ts"],(function(t){var e,r,n,o,a,i,l,c,u,s,f;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,o=t.Intersection2D,a=t.Component},function(t){i=t.default},function(t){l=t.default},function(t){c=t.EffectNode},function(t){u=t.GameLogic},function(t){s=t.Monster},function(t){f=t.Player}],execute:function(){var h;r._RF.push({},"5a9beEhc/NNDJ8S4EIQJ/RT","PlayerSkillCrl",void 0);var d=n.ccclass;n.property,t("PlayerSkillCrl",d("PlayerSkillCrl")(h=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).hurtArea=null,e}e(r,t);var n=r.prototype;return n.onLoad=function(){this.hurtArea=this.node.getChildByName("HurtArea")},n.start=function(){},n.getSkillDmg=function(t,e){return[[2,2],[1,2],[1,1],[1,1],[1,1],[4,1],[4,1],[2,4],[1,1],[1,1],[2,4],[2,2],[2,2],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1]][t][e]},n.skillCB=function(t){var e=i.getPlayerData().weaponId,r=f.Share.playSkillIndex,n=this.checkCollMonster();if(!(n.length<=0))for(var o=0;o<n.length;o++){var a=n[o],l=a.getComponent(s);if(!l.isDied){var u=a.position.clone();u.y+=100,c.Share.createMonsterHurtEffect(f.Share.enchantType,u),f.Share.addAwakenNum(1)}var h=f.Share.myAtk.atk;if(f.Share.myAtk.isCritical){var d=a.position.clone();d.y+=200,c.Share.createCriticalEffect(d)}l.hurt(this.getSkillDmg(e,r-1)*h,t,!1)}},n.checkCollMonster=function(){for(var t=[],e=u.Share.monsterNode,r=0;r<e.children.length;r++){var n=e.children[r];if(!n.active)return;o.rectRect(l.getBoundingBoxToWorld(n),l.getBoundingBoxToWorld(this.hurtArea))&&t.push(n)}return t},n.update=function(t){},r}(a))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStatus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Player.ts"],(function(e){var a,r,t,n,o,s,i;return{setters:[function(e){a=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator,n=e.ProgressBar,o=e.Label,s=e.Component},function(e){i=e.Player}],execute:function(){var h;r._RF.push({},"7f9ebhfw69OF70yyk7fmiIa","PlayerStatus",void 0);var l=t.ccclass;t.property,e("PlayerStatus",l("PlayerStatus")(h=function(e){function r(){for(var a,r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return(a=e.call.apply(e,[this].concat(t))||this).HpBarNode=null,a.AwakenBarNode=null,a}a(r,e);var t=r.prototype;return t.onLoad=function(){this.HpBarNode=this.node.getChildByName("HpBar"),this.AwakenBarNode=this.node.getChildByName("AwakenBar")},t.start=function(){},t.update=function(e){this.HpBarNode.getChildByName("ProgressBar").getComponent(n).progress=i.Share.hp/i.Share.hpMax,this.HpBarNode.getChildByName("ValueNode").getComponentInChildren(o).string=i.Share.hp+";"+i.Share.hpMax,this.AwakenBarNode.getChildByName("ProgressBar").getComponent(n).progress=i.Share.awakenNum/100,this.AwakenBarNode.getChildByName("ProgressBar").getChildByName("fx").active=i.Share.awakenNum>=100},r}(s))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerUpUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameLogic.ts","./Player.ts","./UINode.ts","./Entity.ts","./PlayerDataMgr.ts","./SoundMgr.ts"],(function(e){var t,a,r,i,n,o,l,c,s,u,p,g,d,y,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Node,c=e.Component,s=e.Label},function(e){u=e.GameLogic},function(e){p=e.Player},function(e){g=e.UINode},function(e){d=e.UIType},function(e){y=e.default},function(e){h=e.SoundMgr}],execute:function(){var f,P,S,D,I;n._RF.push({},"f20ba8SinFCsLDNj0x+cgLG","PlayerUpUI",void 0);var U=o.ccclass,m=o.property;e("PlayerUpUI",(f=U("PlayerUpUI"),P=m(l),f((I=t((D=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(t,"itemNode",I,i(t)),t.hadInit=!1,t}a(t,e);var n=t.prototype;return n.onEnable=function(){this.updateItem()},n.updateItem=function(){for(var e=this,t=function(t){var a=e.itemNode.children[t],r=a.getChildByName("str").getChildByName("num").getComponent(s);0==t?r.string=y.getPlayerData().hp.toString():1==t?r.string=y.getPlayerData().attack.toString():2==t?r.string=y.getPlayerData().speed.toString():3==t&&(r.string=y.getPlayerData().critical.toString()),e.hadInit||a.getChildByName("upgradeBtn").on(l.EventType.TOUCH_END,(function(){e.upgradeBtnCB(t)}),e)},a=0;a<this.itemNode.children.length;a++)t(a);this.hadInit=!0},n.upgradeBtnCB=function(e){if(h.Share.PlaySound("click"),y.getPlayerData().soul<500)g.Share.showUI(d.UI_GOTOSHOP,!1,(function(){g.Share.showUI(d.UI_PLAYERUP)}));else{if(0==e)y.getPlayerData().hp+=25;else if(1==e)y.getPlayerData().attack+=5;else if(2==e){if(y.getPlayerData().speed>=20)return void u.Share.createTips("已达到最高等级");y.getPlayerData().speed+=1}else if(3==e){if(y.getPlayerData().critical>=50)return void u.Share.createTips("已达到最高等级");y.getPlayerData().critical+=1}u.Share.createTips("角色强化成功"),y.getPlayerData().soul-=500,y.setPlayerData(),this.updateItem()}},n.closeBtnCB=function(){h.Share.PlaySound("click"),g.Share.showUI(d.UI_START),p.Share.resetData()},n.update=function(e){},t}(c)).prototype,"itemNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=D))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/Remen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FdAd.ts","./FdMgr.ts"],(function(n){var e,t,i,o,c,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator,o=n.Component},function(n){c=n.default},function(n){r=n.default}],execute:function(){var s;t._RF.push({},"8aae8mVSvFA8oIE4kYlpv4i","Remen",void 0);var u=i.ccclass;i.property,n("Remen",u("Remen")(s=function(n){function t(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))||this).ccb=null,e.onShowCB=null,e.clickCount=0,e}e(t,n);var i=t.prototype;return i.onDisable=function(){this.unscheduleAllCallbacks(),c.hideBannerAd(),c.visibleFullGridAd(!1),this.ccb&&this.ccb()},i.showUI=function(n,e){var t=this;this.ccb=n,this.clickCount=0,this.onShowCB=function(){t.node.active=!1},this.node.active=!0,c.getIsFullGridAdError()||c.visibleFullGridAd(),r.remenBanner&&this.bannerShowHide(),c.bannerIndex=0},i.bannerShowHide=function(){var n=this;c.hideBannerAd(),this.scheduleOnce((function(){c.showBannerAd(),n.scheduleOnce((function(){n.bannerShowHide()}),.8)}),.6)},i.videoBtn=function(){c.showVideoAd()},i.continueBtnCB=function(){this.clickCount++,this.clickCount>=r.jsonConfig.remenBanner_count&&(this.node.active=!1)},t}(o))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/RotateLoop1.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,i,n,a,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,c=t.tween,p=t.Component}],execute:function(){var s,l,u;n._RF.push({},"9cccbyFawJDHr92GTVj36GK","RotateLoop1",void 0);var f=a.ccclass,y=a.property;t("RotateLoop1",f("RotateLoop1")((u=e((l=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"time",u,i(e)),e}return r(e,t),e.prototype.start=function(){c(this.node).by(this.time,{angle:-360}).repeatForever().start()},e}(p)).prototype,"time",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),s=l))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ScaleHNV.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,n,a,c,i,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,i=e.tween,s=e.v3,l=e.Component}],execute:function(){var u,p,y;a._RF.push({},"96858MyKJlKP7ykWBLGUHEt","ScaleHNV",void 0);var f=c.ccclass,h=c.property;e("ScaleHNV",f("ScaleHNV")((y=t((p=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,o(t,"type",y,n(t)),t}r(t,e);var a=t.prototype;return a.start=function(){this.scale()},a.scale=function(){1==this.type?i(this.node).to(.6,{scale:s(.9,1.1,1)}).to(.6,{scale:s(1,1,1)}).to(.25,{scale:s(1.02,.95,1)}).to(.25,{scale:s(1,1,1)}).union().repeatForever().start():i(this.node).to(.25,{scale:s(1.02,.95,1)}).to(.25,{scale:s(1,1,1)}).to(.6,{scale:s(.9,1.1,1)}).to(.6,{scale:s(1,1,1)}).union().repeatForever().start()},a.update=function(e){},t}(l)).prototype,"type",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=p))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/ScaleLoop1.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n,a,c,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,c=e.tween,s=e.v3,l=e.Component}],execute:function(){var p,u,f;n._RF.push({},"1bda6xIsI5IMKVLejoXHxMP","ScaleLoop1",void 0);var h=a.ccclass,y=a.property;e("ScaleLoop1",h("ScaleLoop1")((f=t((u=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).time=.4,o(t,"rate",f,i(t)),t}return r(t,e),t.prototype.start=function(){c(this.node).to(this.time,{scale:this.rate}).to(this.time,{scale:s(1,1,1)}).union().repeatForever().start()},t}(l)).prototype,"rate",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s(1.2,1.2,1)}}),p=u))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/SettingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./UINode.ts","./Entity.ts","./SoundMgr.ts"],(function(e){var i,t,n,o,r,u,c,l,a,s,g,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,c=e.Toggle,l=e.Component},function(e){a=e.default},function(e){s=e.UINode},function(e){g=e.UIType},function(e){d=e.SoundMgr}],execute:function(){var h,f,p,S,b,T,y,v,k;r._RF.push({},"d8eacha7QRAmY1Tn7wF1uVE","SettingUI",void 0);var m=u.ccclass,C=u.property;e("SettingUI",(h=m("SettingUI"),f=C(c),p=C(c),S=C(c),h((y=i((T=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return i=e.call.apply(e,[this].concat(r))||this,n(i,"musicToggle",y,o(i)),n(i,"soundToggle",v,o(i)),n(i,"vibrateToggle",k,o(i)),i}t(i,e);var r=i.prototype;return r.onEnable=function(){this.musicToggle.isChecked=a.isMusic,this.soundToggle.isChecked=a.isSound,this.vibrateToggle.isChecked=a.isVibrate},r.toggleMusicBtnCB=function(){a.isMusic=this.musicToggle.isChecked,d.Share.validMusic(a.isMusic),d.Share.PlaySound("click")},r.toggleSoundBtnCB=function(){a.isSound=this.soundToggle.isChecked,d.Share.validSound(a.isSound),d.Share.PlaySound("click")},r.toggleVibrateBtnCB=function(){a.isVibrate=this.vibrateToggle.isChecked,d.Share.PlaySound("click")},r.backBtnCB=function(){d.Share.PlaySound("click"),s.Share.showUI(g.UI_START)},r.update=function(e){},i}(l)).prototype,"musicToggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(T.prototype,"soundToggle",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(T.prototype,"vibrateToggle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=T))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShopUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformApi.ts","./GameLogic.ts","./UINode.ts","./Entity.ts","./PlayerDataMgr.ts","./SoundMgr.ts"],(function(t){var e,r,n,a,o,c,i,u,s,l,h,d;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,a=t.Label,o=t.Node,c=t.Component},function(t){i=t.default},function(t){u=t.GameLogic},function(t){s=t.UINode},function(t){l=t.UIType},function(t){h=t.default},function(t){d=t.SoundMgr}],execute:function(){var f;r._RF.push({},"c0d4aiho09O/q5YzrHt9Hm0","ShopUI",void 0);var p=n.ccclass;n.property,t("ShopUI",p("ShopUI")(f=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).ItemNode=null,e.countArr=[1e4,5e3,5,5,5,5],e}e(r,t);var n=r.prototype;return n.onLoad=function(){this.ItemNode=this.node.getChildByName("ItemNode")},n.onEnable=function(){if(u.Share.isStart){this.countArr=[2e4,1e4,10,10,10,10];for(var t=0;t<this.ItemNode.children.length;t++){this.ItemNode.children[t].getChildByName("text").getComponentInChildren(a).string="<"+this.countArr[t].toString()}}},n.start=function(){var t=this;this.ItemNode.children.forEach((function(e){e.getChildByName("adBtn").on(o.EventType.TOUCH_END,(function(){t.adCB(t.ItemNode.children.indexOf(e))}),t)}))},n.adCB=function(t){var e=this;d.Share.PlaySound("click");var r=null;switch(t){case 0:r=function(){h.getPlayerData().material+=e.countArr[0],h.setPlayerData(),u.Share.createTips("恭喜获得材料x"+e.countArr[0])};break;case 1:r=function(){h.getPlayerData().soul+=e.countArr[1],h.setPlayerData(),u.Share.createTips("恭喜获得魂x"+e.countArr[1])};break;case 2:r=function(){h.getPlayerData().enchantArr[0]+=e.countArr[2],h.setPlayerData(),u.Share.createTips("恭喜获得火焰附魔石x"+e.countArr[2])};break;case 3:r=function(){h.getPlayerData().enchantArr[1]+=e.countArr[3],h.setPlayerData(),u.Share.createTips("恭喜获得寒冰附魔石x"+e.countArr[3])};break;case 4:r=function(){h.getPlayerData().enchantArr[2]+=e.countArr[4],h.setPlayerData(),u.Share.createTips("恭喜获得雷电附魔石x"+e.countArr[4])};break;case 5:r=function(){h.getPlayerData().enchantArr[3]+=e.countArr[5],h.setPlayerData(),u.Share.createTips("恭喜获得剧毒附魔石x"+e.countArr[5])}}i.showVideo(r)},n.backBtnCB=function(){d.Share.PlaySound("click"),s.Share.closeUI(l.UI_SHOP)},n.update=function(t){},r}(c))||f);r._RF.pop()}}}));

System.register("chunks:///_virtual/SoundMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,i,e,s,u,d,c,l,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,e=t.game,s=t.resources,u=t.AudioClip,d=t.Node,c=t.AudioSource,l=t.log,r=t.Component}],execute:function(){var a,h;o._RF.push({},"8b7ddsVLTRGqYZPV7bw3MvJ","SoundMgr",void 0);var p=i.ccclass;i.property,t("SoundMgr",p("SoundMgr")(((h=function(t){function o(){for(var n,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(n=t.call.apply(t,[this].concat(i))||this).currentMusic="",n.currentAid=-1,n.isMusic=!0,n.isSound=!0,n}n(o,t);var i=o.prototype;return i.onLoad=function(){o.Share=this,e.addPersistRootNode(this.node)},i.start=function(){},i.validMusic=function(t){this.isMusic=t,this.isMusic?this.PlayMusic(this.currentMusic):this.StopMuisc()},i.validSound=function(t){this.isSound=t},i.loadSounds=function(t){var n=this;s.loadDir("Sounds",u,(function(o,i){i.forEach((function(t){var o=new d,i=o.addComponent(c);i.playOnAwake=!1,i.clip=t,o.name=t.name,n.node.addChild(o)})),t&&t()}))},i.PlaySound=function(t,n,o){return void 0===n&&(n=!1),void 0===o&&(o=1),null!=this.node&&this.isSound?null==this.node.getChildByName(t)?(console.log("can't load sound",t),null):(this.node.getChildByName(t).getComponent(c).loop=n,this.node.getChildByName(t).getComponent(c).volume=o,this.node.getChildByName(t).getComponent(c).playOneShot(this.node.getChildByName(t).getComponent(c).clip)):null},i.stopSound=function(t){this.node.getChildByName(t).getComponent(c).stop()},i.getMusicClip=function(t){return this.node.getChildByName(t).getComponent(c).clip},i.PlayMusic=function(t,n){(void 0===n&&(n=!0),this.isMusic&&this.currentMusic&&this.StopMuisc(this.currentMusic),this.currentMusic=t,null!=this.node&&this.isMusic)&&(null!=this.node.getChildByName(t)?(this.node.getChildByName(t).getComponent(c).loop=n,this.node.getChildByName(t).getComponent(c).play()):l("can't load music",t))},i.StopMuisc=function(t){null!=this.node&&this.node.getChildByName(t||this.currentMusic).getComponent(c).stop()},o}(r)).Share=void 0,a=h))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/StartBtnNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FdMgr.ts","./Entity.ts","./PlayerDataMgr.ts","./SoundMgr.ts","./GameData.ts","./GameLogic.ts","./Player.ts","./UINode.ts"],(function(e){var t,a,n,o,i,h,r,l,p,s,c,d,y,N,g;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,o=e.Node,i=e.UITransform,h=e.v3,r=e.Component},function(e){l=e.default},function(e){p=e.UIType},function(e){s=e.default},function(e){c=e.SoundMgr},function(e){d=e.default},function(e){y=e.GameLogic},function(e){N=e.Player},function(e){g=e.UINode}],execute:function(){var u;a._RF.push({},"2cb9bhksa5Gap6ZUUn79Rtp","StartBtnNode",void 0);var C=n.ccclass;n.property,e("StartBtnNode",C("StartBtnNode")(u=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).shopNode=null,t.weaponNode=null,t.weaponUpNode=null,t.weaponEnchantNode=null,t.playerUpNode=null,t.toGameNode=null,t}t(a,e);var n=a.prototype;return n.onLoad=function(){this.shopNode=this.node.getChildByName("Shop"),this.weaponNode=this.node.getChildByName("Weapon"),this.weaponUpNode=this.node.getChildByName("WeaponUp"),this.weaponEnchantNode=this.node.getChildByName("WeaponEnchant"),this.playerUpNode=this.node.getChildByName("PlayerUp"),this.toGameNode=this.node.getChildByName("ToGame")},n.start=function(){this.shopNode.getChildByName("btn").on(o.EventType.TOUCH_END,this.shopCB,this),this.weaponNode.getChildByName("btn").on(o.EventType.TOUCH_END,this.weaponCB,this),this.weaponUpNode.getChildByName("btn").on(o.EventType.TOUCH_END,this.weaponUpCB,this),this.weaponEnchantNode.getChildByName("btn").on(o.EventType.TOUCH_END,this.weaponEnchantCB,this),this.playerUpNode.getChildByName("btn").on(o.EventType.TOUCH_END,this.playerUpCB,this),this.toGameNode.getChildByName("btn").on(o.EventType.TOUCH_END,this.toGameCB,this),this.toGameNode.getChildByName("finger").active=s.getPlayerData().isNewer},n.shopCB=function(){c.Share.PlaySound("click"),g.Share.showUI(p.UI_SHOP,!0,(function(){g.Share.showUI(p.UI_START)}))},n.weaponCB=function(){c.Share.PlaySound("click"),g.Share.showUI(p.UI_WEAPON)},n.weaponUpCB=function(){c.Share.PlaySound("click"),g.Share.showUI(p.UI_WEAPONUP)},n.weaponEnchantCB=function(){c.Share.PlaySound("click"),g.Share.showUI(p.UI_WEAPONENCHANT)},n.playerUpCB=function(){c.Share.PlaySound("click"),g.Share.showUI(p.UI_PLAYERUP)},n.toGameCB=function(){c.Share.PlaySound("transform"),l.startGame((function(){y.Share.gameStart()}))},n.update=function(e){this.node.children.forEach((function(e){if(e.getChildByName("tips")&&e.getChildByName("btn")){var t=e.getChildByName("tips"),a=e.getChildByName("btn"),n=e.getComponent(i).convertToWorldSpaceAR(h()),o=N.Share.node.getComponent(i).convertToWorldSpaceAR(h());t.active=Math.abs(n.x-o.x)>120,a.active=Math.abs(n.x-o.x)<=120}})),this.weaponEnchantNode.getChildByName("finger").active=0==s.getWeaponEnchantType()&&(s.getPlayerData().enchantArr[0]>0||s.getPlayerData().enchantArr[1]>0||s.getPlayerData().enchantArr[2]>0||s.getPlayerData().enchantArr[3]>0)||s.getWeaponEnchantType()>0&&s.getPlayerData().enchantArr[s.getWeaponEnchantType()-1]>0,this.playerUpNode.getChildByName("finger").active=s.getPlayerData().soul>=500,this.weaponUpNode.getChildByName("finger").active=s.getPlayerData().material>=500;for(var t=0;t<s.getPlayerData().weaponArr.length;t++)if(0!=d.weaponOpenArr[t]&&d.weaponCost[t]<=s.getPlayerData().material&&0==s.getPlayerData().weaponArr[t])return void(this.weaponNode.getChildByName("finger").active=!0);this.weaponNode.getChildByName("finger").active=!1},a}(r))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/StartUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./Player.ts","./UINode.ts","./Entity.ts","./OnlineTimeMgr.ts","./PlayerDataMgr.ts","./SoundMgr.ts"],(function(t){var e,i,n,r,o,a,u,c,l,s,f,h,p,d,g,y,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,u=t.Node,c=t.v3,l=t.UITransform,s=t.Component},function(t){f=t.default},function(t){h=t.Player},function(t){p=t.UINode},function(t){d=t.UIType},function(t){g=t.OnlineTimeMgr},function(t){y=t.default},function(t){S=t.SoundMgr}],execute:function(){var m,P,I,U,O,v,b;o._RF.push({},"7f8e1GXV/NAmpOKoOo3mO7V","StartUI",void 0);var w=a.ccclass,G=a.property;t("StartUI",(m=w("StartUI"),P=G(u),I=G(u),m((v=e((O=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"OnlineGift",v,r(e)),n(e,"guidePic",b,r(e)),e}i(e,t);var o=e.prototype;return o.onEnable=function(){g.Share.hadGotOnlineGift||f.hadShowOnlineGift||this.scheduleOnce((function(){g.Share.startTimeCounter(),p.Share.showUI(d.UI_ONLINE,!1)}))},o.start=function(){S.Share.PlayMusic("homeBgm")},o.settingBtnCB=function(){S.Share.PlaySound("click"),p.Share.showUI(d.UI_SETTING)},o.update=function(t){y.getPlayerData().isNewer&&h.Share.myPos.x<1900?(this.guidePic.active=!0,this.guidePic.position=c(h.Share.myPos.x+50,-220),this.guidePic.getComponent(l).width=1900-h.Share.myPos.x-50):this.guidePic.active=!1},e}(s)).prototype,"OnlineGift",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(O.prototype,"guidePic",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=O))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/SwordEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerDataMgr.ts"],(function(o){var e,t,n,r,f,c,a,s,i,p;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,r=o.Sprite,f=o.Color,c=o.tween,a=o.UIOpacity,s=o.v3,i=o.Component},function(o){p=o.default}],execute:function(){var l;t._RF.push({},"65831uGR15Dn6YzESKh/MyL","SwordEffect",void 0);var d=n.ccclass;n.property,o("SwordEffect",d("SwordEffect")(l=function(o){function t(){return o.apply(this,arguments)||this}e(t,o);var n=t.prototype;return n.start=function(){var o=this,e=p.getPlayerData().weaponId;switch(p.getPlayerData().weaponEnchantTypeArr[e]){case 0:this.node.getComponent(r).color=(new f).fromHEX("#ffffff"),this.node.getComponent(r).color=(new f).fromHEX("#ffffff");break;case 1:this.node.getComponent(r).color=(new f).fromHEX("#ffff00"),this.node.getComponent(r).color=(new f).fromHEX("#ffff00");break;case 2:this.node.getComponent(r).color=(new f).fromHEX("#00ffff"),this.node.getComponent(r).color=(new f).fromHEX("#00ffff");break;case 3:this.node.getComponent(r).color=(new f).fromHEX("#F500FF"),this.node.getComponent(r).color=(new f).fromHEX("#F500FF");break;case 4:this.node.getComponent(r).color=(new f).fromHEX("#00FF00"),this.node.getComponent(r).color=(new f).fromHEX("#00FF00")}c(this.node.getComponent(a)).to(.4,{opacity:0}).start(),c(this.node).to(.3,{scale:s(1,0,1)}).call((function(){o.node.destroy()})).start()},n.update=function(o){},t}(i))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/TipsNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,o,e,i,r,s,c,p;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Label,r=t.tween,s=t.v3,c=t.UIOpacity,p=t.Component}],execute:function(){var a;o._RF.push({},"93a66mcirNJlbTc3zb4PFwl","TipsNode",void 0);var u=e.ccclass;e.property,t("TipsNode",u("TipsNode")(a=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.start=function(){},e.show=function(t){var n=this;this.node.getComponentInChildren(i).string=t,r(this.node).by(2,{position:s(0,200)}).call((function(){r(n.node.getComponent(c)).to(1,{opacity:0}).call((function(){n.node.destroy()})).start()})).start()},e.update=function(t){},o}(p))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/UINode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,n,c;return{setters:[function(o){e=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator,c=o.Component}],execute:function(){var i,r;t._RF.push({},"9c966cmzphFi6roiSKUUEBv","UINode",void 0);var s=n.ccclass;n.property,o("UINode",s("UINode")(((r=function(o){function t(){for(var e,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return(e=o.call.apply(o,[this].concat(n))||this).closeCB=null,e}e(t,o);var n=t.prototype;return n.onLoad=function(){t.Share=this},n.start=function(){},n.showUI=function(o,e,t){void 0===e&&(e=!0),this.closeCB=t,e?this.node.children.forEach((function(e){e.active=e.name==o})):this.node.getChildByName(o).active=!0},n.closeUI=function(o){this.closeCB?this.closeCB():this.node.getChildByName(o).active=!1},n.closeAllUI=function(){this.node.children.forEach((function(o){o.active=!1}))},t}(c)).Share=void 0,i=r))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateMaterial.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerDataMgr.ts"],(function(t){var a,e,r,n,o,i;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator,n=t.Label,o=t.Component},function(t){i=t.default}],execute:function(){var c;e._RF.push({},"63d22/VmOlF+a2YmZcgzGSv","UpdateMaterial",void 0);var l=r.ccclass;r.property,t("UpdateMaterial",l("UpdateMaterial")(c=function(t){function e(){for(var a,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(a=t.call.apply(t,[this].concat(r))||this).str=null,a}a(e,t);var r=e.prototype;return r.onLoad=function(){this.str=this.getComponent(n)},r.start=function(){},r.update=function(t){this.str.string=i.getPlayerData().material.toString()},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateSoul.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerDataMgr.ts"],(function(t){var n,o,e,r,a,u;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,r=t.Label,a=t.Component},function(t){u=t.default}],execute:function(){var s;o._RF.push({},"fd018OTVddHyInH3xY0y2GT","UpdateSoul",void 0);var c=e.ccclass;e.property,t("UpdateSoul",c("UpdateSoul")(s=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).str=null,n}n(o,t);var e=o.prototype;return e.onLoad=function(){this.str=this.getComponent(r)},e.start=function(){},e.update=function(t){this.str.string=u.getPlayerData().soul.toString()},o}(a))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/UpDownLoop.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,r,n,a,s,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.tween,p=t.v3,c=t.Component}],execute:function(){var u,l,h,f;n._RF.push({},"b32a9qUHBFJWqIwL2tSsW1e","UpDownLoop",void 0);var y=a.ccclass,b=a.property;t("UpDownLoop",y("UpDownLoop")((h=e((l=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,i(e,"rate",h,r(e)),i(e,"time",f,r(e)),e}return o(e,t),e.prototype.start=function(){s(this.node).by(this.time,{position:p(0,-this.rate,0)},{easing:"smooth"}).by(this.time,{position:p(0,this.rate,0)},{easing:"smooth"}).union().repeatForever().start()},e}(c)).prototype,"rate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),f=e(l.prototype,"time",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=l))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Utility.ts",["cc"],(function(t){var e,n,o,r,a,i,c,u,l,s,f;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.resources,r=t.SpriteFrame,a=t.v3,i=t.UITransform,c=t.find,u=t.Vec3,l=t.Quat,s=t.tween,f=t.Rect}],execute:function(){var d;e._RF.push({},"08ebfwGkANOp4sXiyeJ4qrB","Utility",void 0);var h=n.ccclass;n.property,t("default",h("Utility")(d=function(){function t(){}return t.loadSpriteFrame=function(t,e,n){o.load(t+"/spriteFrame",r,(function(t,o){e&&e.node&&e.node.isValid&&e.node._uiProps?(e.spriteFrame=o,n&&n()):n&&n()}))},t.shuffleArr=function(t){for(var e=t.length;e;){var n=Math.floor(Math.random()*e--),o=[t[e],t[n]];t[n]=o[0],t[e]=o[1]}return t},t.getWorldPos=function(t,e){void 0===e&&(e=a(0,0));var n=a();return t.getComponent(i).convertToWorldSpaceAR(e,n),n},t.getCanvasPos=function(t){var e=a();return c("Canvas").getComponent(i).convertToNodeSpaceAR(this.getWorldPos(t),e),e},t.joinZero=function(t,e){return(Array(t).join("0")+e).slice(-t)},t.delayActive=function(t,e,n){t.active=!1,n.scheduleOnce((function(){t.active=!0}),e)},t.getRandomByLength=function(t,e){void 0===e&&(e=1);for(var n=[],o=0;o<t;o++)n.push(o);return n=(n=this.shuffleArr(n)).splice(0,e)},t.getRandomItemInArr=function(t){return t[Math.floor(Math.random()*t.length)]},t.getRandomItemInArrWithoutSelf=function(t,e,n){void 0===n&&(n=1);var o=[].concat(e);return-1!=o.indexOf(t)&&o.splice(o.indexOf(t),1),(o=this.shuffleArr(o)).slice(0,n)},t.GetRandom=function(t,e,n){void 0===n&&(n=!0);var o=e-t+1,r=Math.random()*o;return r+=t,n?Math.floor(r):r},t.RotateWithAxis=function(t,e,n,o){var r=new u,a=u.distance(t,e),i=new u;u.subtract(i,t,e),u.normalize(i,i);var c=new l;return u.normalize(n,n),l.rotateAround(c,c,n,o*Math.PI/180),u.transformQuat(i,i,c),u.multiplyScalar(i,i,a),u.add(r,i,e),r},t.getIsNewDate=function(){return!localStorage.getItem("lastDate")||(new Date).getDate()!=parseInt(localStorage.getItem("lastDate"))},t.DoVibrate=function(t){},t.bezierTo=function(t,e,n,o,r,i){i=i||Object.create(null);return i.onUpdate=function(e,i){var c,u,l,s,f,d;t.position=(l=o,s=r,f=(1-(c=i))*(1-c)*(u=n).x+2*c*(1-c)*l.x+c*c*s.x,d=(1-c)*(1-c)*u.y+2*c*(1-c)*l.y+c*c*s.y,a(f,d,0))},s(t).to(e,{},i)},t.getBoundingBoxToWorld=function(t){var e=new f,n=t.getComponent(i).contentSize.clone(),o=t.getComponent(i).anchorPoint.clone(),r=t.getComponent(i).convertToWorldSpaceAR(a());return e.x=r.x-n.width*o.x,e.y=r.y-n.height*o.y,e.width=n.width,e.height=n.height,e},t}())||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/VideoBanner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FdAd.ts"],(function(e){var n,r,i,t,o,a,u,c,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Node,c=e.Component},function(e){l=e.default}],execute:function(){var s,d,f,p,b,h,g,v,y,w,m;o._RF.push({},"293ebJmoAlCh4gZQeNm0njN","VideoBanner",void 0);var x=a.ccclass,I=a.property;e("VideoBanner",(s=x("VideoBanner"),d=I(u),f=I(u),p=I(u),b=I(u),s((v=n((g=function(e){function n(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"rootNode",v,t(n)),i(n,"finger",y,t(n)),i(n,"banner1",w,t(n)),i(n,"banner2",m,t(n)),n.curIndex=0,n}r(n,e);var o=n.prototype;return o.showUI=function(e){void 0===e&&(e=!0),this.node.active=!0,this.finger.active=e,this.banner1.active=0==this.curIndex,this.banner2.active=1==this.curIndex,this.curIndex++,this.curIndex>1&&(this.curIndex=0)},o.adBtnCB=function(){l.showVideoAd((function(){window.wx.showToast({title:"恭喜获得1000金币！",duration:2e3,mask:!1,icon:"none"})}),null)},n}(c)).prototype,"rootNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(g.prototype,"finger",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(g.prototype,"banner1",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(g.prototype,"banner2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponEnchantUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./GameLogic.ts","./Player.ts","./UINode.ts","./BundleMgr.ts","./Entity.ts","./PlayerDataMgr.ts","./SoundMgr.ts"],(function(t){var e,r,o,n,a,i,l,c,f,p,s,u,h,g,y,S,d,m,I,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,l=t.Node,c=t.RichText,f=t.Sprite,p=t.Animation,s=t.Component,u=t.Label},function(t){h=t.default},function(t){g=t.GameLogic},function(t){y=t.Player},function(t){S=t.UINode},function(t){d=t.default},function(t){m=t.UIType},function(t){I=t.default},function(t){P=t.SoundMgr}],execute:function(){var D,b,w,k,E,T,U,A,N,W,v,B,C;a._RF.push({},"a151boniLdKcrmULVoLTcJL","WeaponEnchantUI",void 0);var L=i.ccclass,_=i.property;t("WeaponEnchantUI",(D=L("WeaponEnchantUI"),b=_(l),w=_(l),k=_(l),E=_(c),T=_(c),D((N=e((A=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,o(e,"player",N,n(e)),o(e,"playerWeapon",W,n(e)),o(e,"itemNode",v,n(e)),o(e,"atkStr1",B,n(e)),o(e,"atkStr2",C,n(e)),e.hadInit=!1,e}r(e,t);var a=e.prototype;return a.onEnable=function(){this.resetPlayerWeapon(),this.updateItem()},a.resetPlayerWeapon=function(){d.setSpriteFrameInBundle(h.getWeaponDir(I.getPlayerData().weaponId,I.getWeaponEnchantType()),this.playerWeapon.getComponent(f));var t=h.weaponData[I.getPlayerData().weaponId].type;this.player.getComponent(p).play("Idle"+(t+1))},a.updateItem=function(){for(var t=this,e=function(e){var r=t.itemNode.children[e],o=r.getChildByName("text").getChildByName("num").getComponent(u),n=r.getChildByName("enchantBtn");o.string=I.getPlayerData().enchantArr[e].toString(),t.hadInit||n.on(l.EventType.TOUCH_END,(function(){t.enchantBtnCB(e)}),t)},r=0;r<this.itemNode.children.length;r++)e(r);this.hadInit=!0},a.updateStr=function(){var t=I.getPlayerData().weaponId,e=I.getPlayerData().weaponEnchantTypeArr[t],r=I.getPlayerData().weaponEnchantArr[t];if(0==e)this.atkStr1.string="<color=#ffffff>无</color>",this.atkStr2.string="<color=#ffffff>无</color>";else switch(e){case 1:this.atkStr1.string="<color=#ffffff>附加</color><color=#ff9601>"+r.toString()+"%</color><color=#ffffff>火焰属性伤害</color>",this.atkStr2.string="<color=#00ff00>附加</color><color=#ff0000>"+(r+1).toString()+"%</color><color=#00ff00>火焰属性伤害</color>";break;case 2:this.atkStr1.string="<color=#ffffff>附加</color><color=#ff9601>"+r.toString()+"%</color><color=#ffffff>寒冰属性伤害</color>",this.atkStr2.string="<color=#00ff00>附加</color><color=#ff0000>"+(r+1).toString()+"%</color><color=#00ff00>寒冰属性伤害</color>";break;case 3:this.atkStr1.string="<color=#ffffff>附加</color><color=#ff9601>"+r.toString()+"%</color><color=#ffffff>雷电属性伤害</color>",this.atkStr2.string="<color=#00ff00>附加</color><color=#ff0000>"+(r+1).toString()+"%</color><color=#00ff00>雷电属性伤害</color>";break;case 4:this.atkStr1.string="<color=#ffffff>附加</color><color=#ff9601>"+r.toString()+"%</color><color=#ffffff>剧毒属性伤害</color>",this.atkStr2.string="<color=#00ff00>附加</color><color=#ff0000>"+(r+1).toString()+"%</color><color=#00ff00>剧毒属性伤害</color>"}},a.enchantBtnCB=function(t){P.Share.PlaySound("click");var e=I.getPlayerData().weaponId;I.getPlayerData().enchantArr[t]<=0?S.Share.showUI(m.UI_GOTOSHOP,!1,(function(){S.Share.showUI(m.UI_WEAPONENCHANT)})):I.getPlayerData().weaponEnchantTypeArr[e]>0&&I.getPlayerData().weaponEnchantTypeArr[e]!=t+1?g.Share.createTips("当前武器已附魔其他属性"):(g.Share.createTips("武器附魔成功"),I.getPlayerData().enchantArr[t]--,I.getPlayerData().weaponEnchantArr[e]++,I.getPlayerData().weaponEnchantTypeArr[e]=t+1,I.setPlayerData(),this.updateItem(),this.resetPlayerWeapon())},a.closeBtnCB=function(){P.Share.PlaySound("click"),S.Share.showUI(m.UI_START),y.Share.changeWeapon(),y.Share.resetData()},a.update=function(t){this.updateStr()},e}(s)).prototype,"player",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(A.prototype,"playerWeapon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(A.prototype,"itemNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(A.prototype,"atkStr1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(A.prototype,"atkStr2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=A))||U));a._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./GameLogic.ts","./Player.ts","./UINode.ts","./BundleMgr.ts","./Entity.ts","./PlayerDataMgr.ts","./SoundMgr.ts"],(function(e){var t,a,n,r,o,i,l,p,c,y,u,g,s,h,d,f,m,w,P,D,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,l=e.Node,p=e.Sprite,c=e.Label,y=e.Animation,u=e.Component,g=e.instantiate,s=e.v3},function(e){h=e.default},function(e){d=e.GameLogic},function(e){f=e.Player},function(e){m=e.UINode},function(e){w=e.default},function(e){P=e.UIType},function(e){D=e.default},function(e){C=e.SoundMgr}],execute:function(){var B,I,S,v,b,N,A,W,U,T,k;o._RF.push({},"624bc1GxCpFyoqdseJF84qR","WeaponUI",void 0);var E=i.ccclass,_=i.property;e("WeaponUI",(B=E("WeaponUI"),I=_(l),S=_(l),v=_(l),b=_(l),B((W=t((A=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,n(t,"player",W,r(t)),n(t,"content",U,r(t)),n(t,"itemPrefab",T,r(t)),n(t,"playerWeapon",k,r(t)),t.hadInit=!1,t}a(t,e);var o=t.prototype;return o.onEnable=function(){this.updateScroll()},o.updateScroll=function(){var e=this;if(this.hadInit){for(var t=0,a=0;a<D.getPlayerData().weaponArr.length;a++)if(0!=h.weaponOpenArr[a]){var n=this.content.children[t],r=n.getChildByName("weapon").getComponent(p),o=n.getChildByName("lock"),i=n.getChildByName("str").getChildByName("atk").getComponent(c),y=n.getChildByName("buyBtn"),u=y.getChildByName("cost").getComponent(c),d=n.getChildByName("unlocked"),f=n.getChildByName("chooseBtn");w.setSpriteFrameInBundle(h.getWeaponDir(a,D.getPlayerData().weaponEnchantTypeArr[a]),r),o.active=0==D.getPlayerData().weaponArr[a],i.string=h.weaponData[a].atk.toString(),y.active=0==D.getPlayerData().weaponArr[a],u.string=":"+h.weaponCost[a].toString(),d.active=1==D.getPlayerData().weaponArr[a]&&D.getPlayerData().weaponId==a,f.active=1==D.getPlayerData().weaponArr[a]&&D.getPlayerData().weaponId!=a,t++}}else{for(var m=function(t){if(0==h.weaponOpenArr[t])return 1;var a=null;(a=g(e.itemPrefab)).position=s(),a.active=!0,e.content.addChild(a);var n=a.getChildByName("weapon").getComponent(p),r=a.getChildByName("lock"),o=a.getChildByName("str").getChildByName("atk").getComponent(c),i=a.getChildByName("buyBtn"),y=i.getChildByName("cost").getComponent(c),u=a.getChildByName("unlocked"),d=a.getChildByName("chooseBtn");w.setSpriteFrameInBundle(h.getWeaponDir(t,D.getPlayerData().weaponEnchantTypeArr[t]),n),r.active=0==D.getPlayerData().weaponArr[t],o.string=h.weaponData[t].atk.toString(),i.active=0==D.getPlayerData().weaponArr[t],y.string=":"+h.weaponCost[t].toString(),u.active=1==D.getPlayerData().weaponArr[t]&&D.getPlayerData().weaponId==t,d.active=1==D.getPlayerData().weaponArr[t]&&D.getPlayerData().weaponId!=t,i.on(l.EventType.TOUCH_END,(function(){e.buyBtnCB(t)}),e),d.on(l.EventType.TOUCH_END,(function(){e.chooseBtnCB(t)}),e)},P=0;P<D.getPlayerData().weaponArr.length;P++)m(P);this.hadInit=!0}this.resetPlayerWeapon()},o.resetPlayerWeapon=function(){w.setSpriteFrameInBundle(h.getWeaponDir(D.getPlayerData().weaponId,D.getWeaponEnchantType()),this.playerWeapon.getComponent(p));var e=h.weaponData[D.getPlayerData().weaponId].type;this.player.getComponent(y).play("Idle"+(e+1))},o.buyBtnCB=function(e){C.Share.PlaySound("click"),h.weaponCost[e]>D.getPlayerData().material?m.Share.showUI(P.UI_GOTOSHOP,!1,(function(){m.Share.showUI(P.UI_WEAPON)})):(d.Share.createTips("武器解锁成功"),D.getPlayerData().material-=h.weaponCost[e],D.getPlayerData().weaponArr[e]=1,D.getPlayerData().weaponId=e,D.setPlayerData(),f.Share.changeWeapon(),this.updateScroll())},o.chooseBtnCB=function(e){C.Share.PlaySound("click"),e!=D.getPlayerData().weaponId&&(D.getPlayerData().weaponId=e,D.setPlayerData(),f.Share.changeWeapon(),this.updateScroll())},o.closeBtnCB=function(){C.Share.PlaySound("click"),m.Share.showUI(P.UI_START),f.Share.resetData()},o.update=function(e){},t}(u)).prototype,"player",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(A.prototype,"content",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(A.prototype,"itemPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(A.prototype,"playerWeapon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=A))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponUpUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./GameLogic.ts","./Player.ts","./UINode.ts","./BundleMgr.ts","./Entity.ts","./PlayerDataMgr.ts","./SoundMgr.ts"],(function(e){var t,a,n,r,i,o,l,p,u,c,s,y,g,f,d,h,S,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Node,p=e.Label,u=e.Sprite,c=e.Animation,s=e.Component},function(e){y=e.default},function(e){g=e.GameLogic},function(e){f=e.Player},function(e){d=e.UINode},function(e){h=e.default},function(e){S=e.UIType},function(e){b=e.default},function(e){m=e.SoundMgr}],execute:function(){var w,I,D,P,U,k,A,W,v,z,B,T,C,_,N;i._RF.push({},"e1cbdyXNflJ8pz2+IaHjHzb","WeaponUpUI",void 0);var E=o.ccclass,L=o.property;e("WeaponUpUI",(w=E("WeaponUpUI"),I=L(l),D=L(l),P=L(l),U=L(p),k=L(p),A=L(p),w((z=t((v=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"player",z,r(t)),n(t,"playerWeapon",B,r(t)),n(t,"item",T,r(t)),n(t,"atkStr1",C,r(t)),n(t,"atkStr2",_,r(t)),n(t,"weaponAtkStr",N,r(t)),t}a(t,e);var i=t.prototype;return i.onEnable=function(){var e=this.item.getChildByName("weapon").getComponent(u);h.setSpriteFrameInBundle(y.getWeaponDir(b.getPlayerData().weaponId,b.getWeaponEnchantType()),e),h.setSpriteFrameInBundle(y.getWeaponDir(b.getPlayerData().weaponId,b.getWeaponEnchantType()),this.playerWeapon.getComponent(u)),this.updateAtk()},i.updateAtk=function(){this.atkStr1.string=b.getPlayerData().attack.toString();var e=b.getPlayerData().weaponId,t=y.weaponData[e].atk+5*b.getPlayerData().weaponUpArr[e];this.weaponAtkStr.string=t.toString(),this.atkStr2.string="<"+t;var a=y.weaponData[b.getPlayerData().weaponId].type;this.player.getComponent(c).play("Idle"+(a+1))},i.upgradeBtnCB=function(){if(m.Share.PlaySound("click"),b.getPlayerData().material<500)d.Share.showUI(S.UI_GOTOSHOP,!1,(function(){d.Share.showUI(S.UI_WEAPONUP)}));else{g.Share.createTips("武器强化成功");var e=b.getPlayerData().weaponId;b.getPlayerData().material-=500,b.getPlayerData().weaponUpArr[e]+=1,b.setPlayerData(),this.updateAtk()}},i.closeBtnCB=function(){m.Share.PlaySound("click"),d.Share.showUI(S.UI_START),f.Share.resetData()},i.update=function(e){},t}(s)).prototype,"player",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(v.prototype,"playerWeapon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(v.prototype,"item",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"atkStr1",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(v.prototype,"atkStr2",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(v.prototype,"weaponAtkStr",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=v))||W));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});